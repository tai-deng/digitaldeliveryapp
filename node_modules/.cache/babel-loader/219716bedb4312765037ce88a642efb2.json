{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\issue\\purchase\\modules\\allPurchase.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\issue\\purchase\\modules\\allPurchase.vue","mtime":1558164541972},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport EchartImg from \"./EchartImg\";\nimport { getBuildList, getSpecialtyList, getFloorList, getResourceList, getCollectList, clearSel, getResourceInfo, getResourceName } from \"../../../../assets/js/scopeManage.js\";\nexport default {\n  components: {\n    EchartImg: EchartImg\n  },\n  data: function data() {\n    return {\n      BuildNameList: [],\n      SpecialtyList: [],\n      FloorbyList: [],\n      ResorceNameList: [],\n      options: {\n        BuildName: \"\",\n        Specialty: \"\",\n        Floor: \"\",\n        CatagoryName: \"\"\n      },\n      buyThingTable: [],\n      ResourceName: \"\",\n      ResourceList: [],\n      active: 0,\n      //左右滑块\n      showMeTable: false,\n      //导航右边图标---显示查询条件\n      activeName: \"1\",\n      //导航右边图标---显示模板的手风琴\n      selectName: \"\",\n      //专业\n      contextBySelect: \"\",\n      // 物资类别\n      glassBySelect: \"\",\n      //楼栋\n      classBySelect: \"\",\n      //楼层\n      buyingSelect: \"\",\n      //已完成采购\n      //专业\n      textNameColl: [{\n        value: \"1\",\n        name: \"全部\"\n      }, {\n        value: \"2\",\n        name: \"建筑专业\"\n      }, {\n        value: \"3\",\n        name: \"结构专业\"\n      }, {\n        value: \"4\",\n        name: \"暖通系统\"\n      }, {\n        value: \"5\",\n        name: \"通风系统\"\n      }, {\n        value: \"6\",\n        name: \"弱电系统\"\n      }, {\n        value: \"7\",\n        name: \"强电系统\"\n      }],\n      // 物资类别\n      contextSelect: [{\n        value: \"1\",\n        name: \"全部\"\n      }, {\n        value: \"2\",\n        name: \"门\"\n      }, {\n        value: \"3\",\n        name: \"混泥土\"\n      }, {\n        value: \"4\",\n        name: \"水泥\"\n      }, {\n        value: \"5\",\n        name: \"钢筋\"\n      }],\n      // 楼栋\n      glassSelect: [{\n        value: \"1\",\n        name: \"A1\"\n      }, {\n        value: \"2\",\n        name: \"A2\"\n      }, {\n        value: \"3\",\n        name: \"A3\"\n      }, {\n        value: \"4\",\n        name: \"A4\"\n      }, {\n        value: \"5\",\n        name: \"A5\"\n      }],\n      // 楼层\n      classSelect: [{\n        value: \"1\",\n        name: \"1楼\"\n      }, {\n        value: \"2\",\n        name: \"2楼\"\n      }, {\n        value: \"3\",\n        name: \"3楼\"\n      }, {\n        value: \"4\",\n        name: \"4楼\"\n      }, {\n        value: \"5\",\n        name: \"5楼\"\n      }],\n      //已完成采购\n      buyingThing: [{\n        value: \"1\",\n        name: \"采购中\"\n      }, {\n        value: \"2\",\n        name: \"未采购\"\n      }],\n      //物资种类--Echart图\n      allThing: \"\",\n      allThingList: [{\n        value: \"1\",\n        name: \"c20混凝土\"\n      }, {\n        value: \"2\",\n        name: \"门\"\n      }, {\n        value: \"3\",\n        name: \"c30混凝土\"\n      }],\n      //echarts数据格式\n      table3: {\n        title: \"总产值分析\",\n        //主标题\n        subtext: \"单位（万元）\",\n        //副标题\n        legend: [\"出库量\", \"采购量\", '年度'],\n        //折线名字\n        xData: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\n        //x轴数据\n        yData: [{\n          name: \"出库量\",\n          type: \"line\",\n          color: \"#2C77CE\",\n          data: [10, 16, 15, 83, 92, 63, 40, 35, 22, 80, 92, 63]\n        }, {\n          name: \"采购量\",\n          type: \"line\",\n          color: \"#499341\",\n          data: [1, 18, 24, 53, 35, 22, 80, 35, 22, 80, 15, 18]\n        }, {\n          name: \"年度\",\n          type: \"line\",\n          color: \"#499341\",\n          data: [1, 18, 24, 53, 35, 22, 80, 35, 22, 80, 15, 18]\n        }]\n      },\n      //出入库材料表格\n      allTable: [{\n        getTime: \"2019/01/02\",\n        outTime: \"2019/01/06\",\n        getNumber: \"66666\",\n        outNumber: \"33333\",\n        allhas: \"300\",\n        allout: \"520\"\n      }, {\n        getTime: \"2019/01/02\",\n        outTime: \"2019/01/06\",\n        getNumber: \"66666\",\n        outNumber: \"33333\",\n        allhas: \"300\",\n        allout: \"520\"\n      }, {\n        getTime: \"2019/01/02\",\n        outTime: \"2019/01/06\",\n        getNumber: \"66666\",\n        outNumber: \"33333\",\n        allhas: \"300\",\n        allout: \"520\"\n      }, {\n        getTime: \"2019/01/02\",\n        outTime: \"2019/01/06\",\n        getNumber: \"66666\",\n        outNumber: \"33333\",\n        allhas: \"300\",\n        allout: \"520\"\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.getDataList();\n    getBuildList(this, function (res) {\n      _this.BuildNameList = res.map(function (item) {\n        return {\n          name: item.text,\n          value: item.id\n        };\n      });\n\n      _this.BuildNameList.splice(0, 1);\n    });\n    getResourceName(this, function (res) {\n      _this.ResourceList = res.map(function (item) {\n        return {\n          name: item,\n          value: item\n        };\n      });\n    });\n  },\n  watch: {\n    \"options.BuildName\": function optionsBuildName(val) {\n      var _this2 = this;\n\n      if (val != \"\") {\n        clearSel(this, 1);\n        getSpecialtyList(this, function (res) {\n          _this2.SpecialtyList = res.map(function (item) {\n            return {\n              name: item.text,\n              value: item.id\n            };\n          });\n\n          _this2.SpecialtyList.splice(0, 1);\n        });\n      }\n    },\n    \"options.Specialty\": function optionsSpecialty(val) {\n      var _this3 = this;\n\n      if (val != \"\") {\n        clearSel(this, 2);\n        getFloorList(this, function (res) {\n          _this3.FloorbyList = res.map(function (item) {\n            return {\n              name: item.text,\n              value: item.id\n            };\n          });\n\n          _this3.FloorbyList.splice(0, 1);\n        });\n      }\n    },\n    \"options.Floor\": function optionsFloor(val) {\n      var _this4 = this;\n\n      if (val != \"\") {\n        clearSel(this, 3);\n        getResourceList(this, function (res) {\n          _this4.ResorceNameList = res.map(function (item) {\n            return {\n              name: item.text,\n              value: item.id\n            };\n          });\n        });\n      }\n    }\n  },\n  methods: {\n    // 获取数据\n    getDataList: function getDataList() {\n      var _this5 = this;\n\n      var par = {};\n\n      if (this.options.BuildName !== \"全部\") {\n        par = this.options;\n      } else {\n        par.ProjectID = projectid;\n        par.BuildName = \"\";\n        par.Specialty = this.options.Specialty;\n        par.Floor = this.options.Floor;\n        par.CatagoryName = this.options.CatagoryName;\n        par.Name = this.options.Name;\n      }\n\n      getCollectList(this, par, function (res) {\n        _this5.showMeTable = false;\n        _this5.total = Number(res.Count);\n        _this5.buyThingTable = res;\n      });\n    },\n    //返回\n    goBack: function goBack() {\n      this.$router.push({\n        path: \"/nav/to/index\"\n      });\n    },\n    //右侧导航栏的图标点击\n    showTable: function showTable() {\n      this.showMeTable = !this.showMeTable;\n    },\n    //根据页面的滑动--清掉某些值(模态框)\n    resetFrom: function resetFrom() {\n      if (this.active == 0) {\n        this.options = {\n          BuildName: \"\",\n          Specialty: \"\",\n          Floor: \"\",\n          CatagoryName: \"\"\n        };\n      } else {\n        this.allThing = \"\"; //物资种类--Echart图\n\n        this.ResourceName = \"\";\n      }\n    },\n    //根据页面的滑动--模态框--点击确定查询\n    searchFrom: function searchFrom() {\n      if (this.active) {\n        this.getYearInfo();\n      } else {\n        this.buyThingTable = [];\n        this.getDataList();\n      }\n    },\n    //材料出入库表格---合并项\n    objectSpanMethod: function objectSpanMethod(_ref) {\n      var rowIndex = _ref.rowIndex,\n          columnIndex = _ref.columnIndex;\n\n      if (columnIndex === 4 || columnIndex === 5) {\n        if (rowIndex == 0) {\n          return {\n            rowspan: this.allTable.length + 2,\n            colspan: 1\n          };\n        } else {\n          return {\n            rowspan: 0,\n            colspan: 0\n          };\n        }\n      }\n    },\n    //材料出入库表格---总计合并\n    getSummaries: function getSummaries(param) {\n      var columns = param.columns,\n          data = param.data;\n      var sums = [];\n      columns.forEach(function (column, index) {\n        if (index === 0 || index === 2) {\n          sums[index] = \"总量\";\n          return;\n        } else if (index === 4 || index === 5) {\n          sums[index] = \"\";\n          return;\n        }\n\n        var values = data.map(function (item) {\n          return Number(item[column.property]);\n        });\n\n        if (!values.every(function (value) {\n          return isNaN(value);\n        })) {\n          sums[index] = values.reduce(function (prev, curr) {\n            var value = Number(curr);\n\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n      return sums;\n    },\n    // 获取年度物资采购信息\n    getYearInfo: function getYearInfo() {\n      var _this6 = this;\n\n      getResourceInfo(this, function (res) {\n        _this6.showMeTable = false;\n        console.log(res);\n      });\n    }\n  }\n};",{"version":3,"sources":["allPurchase.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"purchase_echart\">\r\n    <van-nav-bar\r\n      title=\"采购管理\"\r\n      @click-left=\"goBack\"\r\n      @click-right=\"showTable\"\r\n      fixed\r\n      :border=\"true\"\r\n      :z-index=\"100\"\r\n    >\r\n      <span class=\"el-icon-arrow-left fontsize\" slot=\"left\"></span>\r\n      <span class=\"van-nav-bar__right ai_report_nav_img\" slot=\"right\">\r\n        <img src=\"../../../../assets/imgs/screen.png\" alt>\r\n      </span>\r\n    </van-nav-bar>\r\n    <!-- 导航右侧图标--模态框 -->\r\n    <div v-show=\"showMeTable\" class=\"purchase_echart_model\">\r\n      <van-collapse v-model=\"activeName\" accordion v-show=\"active==0\">\r\n        <van-collapse-item name=\"1\">\r\n          <div slot=\"title\">楼栋</div>\r\n          <van-radio-group v-model=\"options.BuildName\">\r\n            <van-cell-group>\r\n              <van-radio\r\n                v-for=\"(item ,index) in BuildNameList\"\r\n                v-bind:key=\"index\"\r\n                :name=\"item.value\"\r\n              >{{item.name}}</van-radio>\r\n            </van-cell-group>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n\r\n        <van-collapse-item name=\"2\">\r\n          <div slot=\"title\">专业</div>\r\n          <van-radio-group v-model=\"options.Specialty\">\r\n            <van-cell-group>\r\n              <van-radio\r\n                v-for=\"(item ,index) in SpecialtyList\"\r\n                v-bind:key=\"index\"\r\n                :name=\"item.value\"\r\n              >{{item.name}}</van-radio>\r\n            </van-cell-group>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n\r\n        <van-collapse-item name=\"3\">\r\n          <div slot=\"title\">楼层</div>\r\n          <van-radio-group v-model=\"options.Floor\">\r\n            <van-cell-group>\r\n              <van-radio\r\n                v-for=\"(item ,index) in FloorbyList\"\r\n                v-bind:key=\"index\"\r\n                :name=\"item.value\"\r\n              >{{item.name}}</van-radio>\r\n            </van-cell-group>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n\r\n        <van-collapse-item name=\"4\">\r\n          <div slot=\"title\">物资名称</div>\r\n          <van-radio-group v-model=\"options.CatagoryName\">\r\n            <van-cell-group>\r\n              <van-radio\r\n                v-for=\"(item ,index) in ResorceNameList\"\r\n                v-bind:key=\"index\"\r\n                :name=\"item.value\"\r\n              >{{item.name}}</van-radio>\r\n            </van-cell-group>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n\r\n        <!-- <van-collapse-item name=\"5\">\r\n              <div slot=\"title\">已完成采购</div>\r\n              <van-radio-group v-model=\"buyingSelect\">\r\n                <van-cell-group>                \r\n                   <van-radio v-for='(item ,index) in buyingThing' v-bind:key='index' :name=\"item.value\">{{item.name}}</van-radio> \r\n                </van-cell-group>\r\n              </van-radio-group>\r\n        </van-collapse-item>-->\r\n      </van-collapse>\r\n\r\n      <van-radio-group v-model=\"ResourceName\" v-show=\"active==1\">\r\n        <van-cell-group>\r\n          <van-radio\r\n            v-for=\"(item ,index) in ResourceList\"\r\n            v-bind:key=\"index\"\r\n            :name=\"item.value\"\r\n          >{{item.name}}</van-radio>\r\n        </van-cell-group>\r\n      </van-radio-group>\r\n\r\n      <div class=\"ai_report_order_foot\">\r\n        <div @click=\"resetFrom()\">重置</div>\r\n        <div @click=\"searchFrom()\">确定</div>\r\n      </div>\r\n    </div>\r\n    <!-- 关闭左右滑动--swipeable -->\r\n    <van-tabs v-model=\"active\" :line-width=\"70\">\r\n      <van-tab title=\"物资采购总览\" class=\"purchase_echart_tabs\">\r\n        <el-table\r\n          style=\"width:100%;\"\r\n          :data=\"buyThingTable\"\r\n          :header-cell-style=\"{'background-color':'#5A92FF','color':'#ffffff'}\"\r\n        >\r\n          <el-table-column prop=\"ResourceName\" label=\"物资名称\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"AdjustBOQ\" label=\"施工预算量\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"InDate\" label=\"采购总量\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"StoreNum\" label=\"库存\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"OverNum\" label=\"节超\" align=\"center\"></el-table-column>\r\n        </el-table>\r\n      </van-tab>\r\n      <van-tab title=\"物资统计分析\" class=\"purchase_echart_tabs\">\r\n        <div class=\"purchase_span\">\r\n          <span>{{ResourceName}}</span>\r\n        </div>\r\n        <!-- 折线图组件 -->\r\n        <div class=\"purchaseImg\">\r\n          <EchartImg :plan_table=\"table3\"></EchartImg>\r\n        </div>\r\n\r\n        <div class=\"purchase_span\">\r\n          <span>材料出入库情况</span>\r\n        </div>\r\n        <el-table\r\n          style=\"width:100%;font-size:28px;box-sizing:border-box;\"\r\n          :summary-method=\"getSummaries\"\r\n          show-summary\r\n          :span-method=\"objectSpanMethod\"\r\n          :data=\"allTable\"\r\n          :header-cell-style=\"{'background-color':'#5A92FF','color':'#ffffff'}\"\r\n        >\r\n          <el-table-column label=\"入库\" align=\"center\">\r\n            <el-table-column prop=\"getTime\" label=\"时间\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"getNumber\" label=\"数量\" align=\"center\"></el-table-column>\r\n          </el-table-column>\r\n          <el-table-column label=\"出库\" align=\"center\">\r\n            <el-table-column prop=\"outTime\" label=\"时间\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"outNumber\" label=\"数量\" align=\"center\"></el-table-column>\r\n          </el-table-column>\r\n          <el-table-column prop=\"allhas\" label=\"存库\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"allout\" label=\"节超\" align=\"center\"></el-table-column>\r\n        </el-table>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\nimport EchartImg from \"./EchartImg\";\r\nimport {\r\n  getBuildList,\r\n  getSpecialtyList,\r\n  getFloorList,\r\n  getResourceList,\r\n  getCollectList,\r\n  clearSel,\r\n  getResourceInfo,\r\n  getResourceName\r\n} from \"../../../../assets/js/scopeManage.js\";\r\n\r\nexport default {\r\n  components: { EchartImg },\r\n  data() {\r\n    return {\r\n      BuildNameList: [],\r\n      SpecialtyList: [],\r\n      FloorbyList: [],\r\n      ResorceNameList: [],\r\n      options: {\r\n        BuildName: \"\",\r\n        Specialty: \"\",\r\n        Floor: \"\",\r\n        CatagoryName: \"\"\r\n      },\r\n      buyThingTable: [],\r\n      ResourceName: \"\",\r\n      ResourceList: [],\r\n\r\n      active: 0, //左右滑块\r\n      showMeTable: false, //导航右边图标---显示查询条件\r\n      activeName: \"1\", //导航右边图标---显示模板的手风琴\r\n      selectName: \"\", //专业\r\n      contextBySelect: \"\", // 物资类别\r\n      glassBySelect: \"\", //楼栋\r\n      classBySelect: \"\", //楼层\r\n      buyingSelect: \"\", //已完成采购\r\n      //专业\r\n      textNameColl: [\r\n        { value: \"1\", name: \"全部\" },\r\n        { value: \"2\", name: \"建筑专业\" },\r\n        { value: \"3\", name: \"结构专业\" },\r\n        { value: \"4\", name: \"暖通系统\" },\r\n        { value: \"5\", name: \"通风系统\" },\r\n        { value: \"6\", name: \"弱电系统\" },\r\n        { value: \"7\", name: \"强电系统\" }\r\n      ],\r\n      // 物资类别\r\n      contextSelect: [\r\n        { value: \"1\", name: \"全部\" },\r\n        { value: \"2\", name: \"门\" },\r\n        { value: \"3\", name: \"混泥土\" },\r\n        { value: \"4\", name: \"水泥\" },\r\n        { value: \"5\", name: \"钢筋\" }\r\n      ],\r\n      // 楼栋\r\n      glassSelect: [\r\n        { value: \"1\", name: \"A1\" },\r\n        { value: \"2\", name: \"A2\" },\r\n        { value: \"3\", name: \"A3\" },\r\n        { value: \"4\", name: \"A4\" },\r\n        { value: \"5\", name: \"A5\" }\r\n      ],\r\n      // 楼层\r\n      classSelect: [\r\n        { value: \"1\", name: \"1楼\" },\r\n        { value: \"2\", name: \"2楼\" },\r\n        { value: \"3\", name: \"3楼\" },\r\n        { value: \"4\", name: \"4楼\" },\r\n        { value: \"5\", name: \"5楼\" }\r\n      ],\r\n      //已完成采购\r\n      buyingThing: [\r\n        { value: \"1\", name: \"采购中\" },\r\n        { value: \"2\", name: \"未采购\" }\r\n      ],\r\n      //物资种类--Echart图\r\n      allThing: \"\",\r\n      allThingList: [\r\n        { value: \"1\", name: \"c20混凝土\" },\r\n        { value: \"2\", name: \"门\" },\r\n        { value: \"3\", name: \"c30混凝土\" }\r\n      ],\r\n\r\n      //echarts数据格式\r\n      table3: {\r\n        title: \"总产值分析\", //主标题\r\n        subtext: \"单位（万元）\", //副标题\r\n        legend: [\"出库量\", \"采购量\",'年度'], //折线名字\r\n        xData: [\r\n          \"1月\",\r\n          \"2月\",\r\n          \"3月\",\r\n          \"4月\",\r\n          \"5月\",\r\n          \"6月\",\r\n          \"7月\",\r\n          \"8月\",\r\n          \"9月\",\r\n          \"10月\",\r\n          \"11月\",\r\n          \"12月\"\r\n        ], //x轴数据\r\n        yData: [\r\n          {\r\n            name: \"出库量\",\r\n            type: \"line\",\r\n            color: \"#2C77CE\",\r\n            data: [10, 16, 15, 83, 92, 63, 40, 35, 22, 80, 92, 63]\r\n          },\r\n          {\r\n            name: \"采购量\",\r\n            type: \"line\",\r\n            color: \"#499341\",\r\n            data: [1, 18, 24, 53, 35, 22, 80, 35, 22, 80, 15, 18]\r\n          },\r\n          {\r\n            name: \"年度\",\r\n            type: \"line\",\r\n            color: \"#499341\",\r\n            data: [1, 18, 24, 53, 35, 22, 80, 35, 22, 80, 15, 18]\r\n          }\r\n        ]\r\n      },\r\n      //出入库材料表格\r\n      allTable: [\r\n        {\r\n          getTime: \"2019/01/02\",\r\n          outTime: \"2019/01/06\",\r\n          getNumber: \"66666\",\r\n          outNumber: \"33333\",\r\n          allhas: \"300\",\r\n          allout: \"520\"\r\n        },\r\n        {\r\n          getTime: \"2019/01/02\",\r\n          outTime: \"2019/01/06\",\r\n          getNumber: \"66666\",\r\n          outNumber: \"33333\",\r\n          allhas: \"300\",\r\n          allout: \"520\"\r\n        },\r\n        {\r\n          getTime: \"2019/01/02\",\r\n          outTime: \"2019/01/06\",\r\n          getNumber: \"66666\",\r\n          outNumber: \"33333\",\r\n          allhas: \"300\",\r\n          allout: \"520\"\r\n        },\r\n        {\r\n          getTime: \"2019/01/02\",\r\n          outTime: \"2019/01/06\",\r\n          getNumber: \"66666\",\r\n          outNumber: \"33333\",\r\n          allhas: \"300\",\r\n          allout: \"520\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  created() {\r\n    this.getDataList();\r\n    getBuildList(this, res => {\r\n      this.BuildNameList = res.map(item => {\r\n        return {\r\n          name: item.text,\r\n          value: item.id\r\n        };\r\n      });\r\n      this.BuildNameList.splice(0, 1);\r\n    });\r\n    getResourceName(this, res => {\r\n      this.ResourceList = res.map(item => {\r\n        return {\r\n          name: item,\r\n          value: item\r\n        };\r\n      });\r\n    });\r\n  },\r\n  watch: {\r\n    \"options.BuildName\"(val) {\r\n      if (val != \"\") {\r\n        clearSel(this, 1);\r\n        getSpecialtyList(this, res => {\r\n          this.SpecialtyList = res.map(item => {\r\n            return {\r\n              name: item.text,\r\n              value: item.id\r\n            };\r\n          });\r\n          this.SpecialtyList.splice(0, 1);\r\n        });\r\n      }\r\n    },\r\n    \"options.Specialty\"(val) {\r\n      if (val != \"\") {\r\n        clearSel(this, 2);\r\n        getFloorList(this, res => {\r\n          this.FloorbyList = res.map(item => {\r\n            return {\r\n              name: item.text,\r\n              value: item.id\r\n            };\r\n          });\r\n          this.FloorbyList.splice(0, 1);\r\n        });\r\n      }\r\n    },\r\n    \"options.Floor\"(val) {\r\n      if (val != \"\") {\r\n        clearSel(this, 3);\r\n        getResourceList(this, res => {\r\n          this.ResorceNameList = res.map(item => {\r\n            return {\r\n              name: item.text,\r\n              value: item.id\r\n            };\r\n          });\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取数据\r\n    getDataList() {\r\n      let par = {};\r\n      if (this.options.BuildName !== \"全部\") {\r\n        par = this.options;\r\n      } else {\r\n        par.ProjectID = projectid;\r\n        par.BuildName = \"\";\r\n        par.Specialty = this.options.Specialty;\r\n        par.Floor = this.options.Floor;\r\n        par.CatagoryName = this.options.CatagoryName;\r\n        par.Name = this.options.Name;\r\n      }\r\n      getCollectList(this, par, res => {\r\n        this.showMeTable = false;\r\n        this.total = Number(res.Count);\r\n        this.buyThingTable = res;\r\n      });\r\n    },\r\n    //返回\r\n    goBack() {\r\n      this.$router.push({ path: \"/nav/to/index\" });\r\n    },\r\n    //右侧导航栏的图标点击\r\n    showTable() {\r\n      this.showMeTable = !this.showMeTable;\r\n    },\r\n    //根据页面的滑动--清掉某些值(模态框)\r\n    resetFrom() {\r\n      if (this.active == 0) {\r\n        this.options = {\r\n          BuildName: \"\",\r\n          Specialty: \"\",\r\n          Floor: \"\",\r\n          CatagoryName: \"\"\r\n        };\r\n      } else {\r\n        this.allThing = \"\"; //物资种类--Echart图\r\n        this.ResourceName = \"\";\r\n      }\r\n    },\r\n    //根据页面的滑动--模态框--点击确定查询\r\n    searchFrom() {\r\n      if (this.active) {\r\n        this.getYearInfo();\r\n      } else {\r\n        this.buyThingTable = [];\r\n        this.getDataList();\r\n      }\r\n    },\r\n    //材料出入库表格---合并项\r\n    objectSpanMethod({ rowIndex, columnIndex }) {\r\n      if (columnIndex === 4 || columnIndex === 5) {\r\n        if (rowIndex == 0) {\r\n          return {\r\n            rowspan: this.allTable.length + 2,\r\n            colspan: 1\r\n          };\r\n        } else {\r\n          return {\r\n            rowspan: 0,\r\n            colspan: 0\r\n          };\r\n        }\r\n      }\r\n    },\r\n    //材料出入库表格---总计合并\r\n    getSummaries(param) {\r\n      const { columns, data } = param;\r\n      const sums = [];\r\n      columns.forEach((column, index) => {\r\n        if (index === 0 || index === 2) {\r\n          sums[index] = \"总量\";\r\n          return;\r\n        } else if (index === 4 || index === 5) {\r\n          sums[index] = \"\";\r\n          return;\r\n        }\r\n        const values = data.map(item => Number(item[column.property]));\r\n        if (!values.every(value => isNaN(value))) {\r\n          sums[index] = values.reduce((prev, curr) => {\r\n            const value = Number(curr);\r\n            if (!isNaN(value)) {\r\n              return prev + curr;\r\n            } else {\r\n              return prev;\r\n            }\r\n          }, 0);\r\n        } else {\r\n          sums[index] = \"\";\r\n        }\r\n      });\r\n      return sums;\r\n    },\r\n    // 获取年度物资采购信息\r\n    getYearInfo() {\r\n      getResourceInfo(this, res => {\r\n        this.showMeTable = false;\r\n        console.log(res);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.purchase_echart {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding-top: 88px;\r\n  box-sizing: border-box;\r\n}\r\n/* 表格样式更改 */\r\n\r\n.purchase_echart .el-table th > .cell,\r\n.container-procurement-list .temporary thead th {\r\n  font-size: 28px;\r\n}\r\n.purchase_echart .purchase_echart_tabs {\r\n  height: 60px;\r\n  line-height: 60px;\r\n  font-size: 30px;\r\n}\r\n/* 顶部表头 */\r\n.purchase_echart .van-nav-bar .van-nav-bar__title {\r\n  font-size: 36px;\r\n}\r\n.purchase_echart .van-nav-bar {\r\n  height: 88px;\r\n  line-height: 88px;\r\n}\r\n.purchase_echart .ai_report_nav_img img {\r\n  height: 37px;\r\n  width: 41px;\r\n}\r\n.purchase_echart .ai_report_nav_img {\r\n  float: right;\r\n  position: relative;\r\n  top: 10px;\r\n}\r\n.purchase_echart_tabs {\r\n  height: 1130px;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n}\r\n\r\n/* 左右滑动标签页的样式更改 */\r\n.purchase_echart .van-tabs__line {\r\n  background-color: #5b8dee;\r\n}\r\n.purchase_echart .van-tabs--line .van-tabs__wrap {\r\n  height: 88px;\r\n}\r\n.purchase_echart .van-tabs--line .van-tabs__nav {\r\n  height: 88px;\r\n}\r\n.purchase_echart .van-ellipsis {\r\n  width: 100%;\r\n  color: #6b6b6b;\r\n  height: 88px;\r\n  font-size: 28px;\r\n  line-height: 88px;\r\n  /* font-weight:bold; */\r\n  font-family: PingFang-SC-Bold;\r\n}\r\n.purchase_echart .van-tabs__nav .van-tab--active .van-ellipsis {\r\n  color: rgba(91, 140, 238, 1);\r\n}\r\n.purchase_echart .van-tabs--line {\r\n  padding-top: 110px;\r\n}\r\n/* 表格样式更改 */\r\n.purchase_echart .el-table .cell {\r\n  height: 60px;\r\n  line-height: 60px;\r\n  font-size: 24px;\r\n}\r\n.purchase_echart .el-table .table_input {\r\n  border: 2px solid #5893ff;\r\n}\r\n\r\n/* 右图标弹框样式 */\r\n.purchase_echart_model {\r\n  position: fixed;\r\n  width: 356px;\r\n  z-index: 200;\r\n  max-height: 940px;\r\n  right: 20px;\r\n  top: 88px;\r\n  background-color: rgba(34, 40, 50, 1);\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  color: #ffffff;\r\n  font-size: 30px;\r\n  overflow: auto;\r\n}\r\n.purchase_echart_model .ai_report_border {\r\n  width: 0;\r\n  height: 0;\r\n  border-width: 0 16px 16px;\r\n  border-style: solid;\r\n  border-color: transparent transparent #222832; /*透明 透明  灰*/\r\n  position: relative;\r\n  display: inline-block;\r\n  top: -48px;\r\n  left: 330px;\r\n}\r\n.purchase_echart_model .ai_report_list {\r\n  width: 100%;\r\n  height: 88px;\r\n  line-height: 88px;\r\n  box-sizing: border-box;\r\n}\r\n.purchase_echart_model .ai_report_list_border {\r\n  border-bottom: 2px solid #ffffff;\r\n}\r\n.purchase_echart_model .ai_report_list_time > span {\r\n  display: block;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #eaebed;\r\n  color: #333;\r\n  padding-left: 8px;\r\n  border-radius: 6px;\r\n}\r\n.purchase_echart_model .ai_report_list_time {\r\n  width: 100%;\r\n  height: 70px;\r\n  line-height: 70px;\r\n  box-sizing: border-box;\r\n  padding: 5px 0;\r\n}\r\n\r\n.purchase_echart_model .van-cell {\r\n  background-color: #222832;\r\n  color: #ffffff;\r\n  line-height: 45px;\r\n  height: 60px;\r\n  border-top: 2px solid #55595e;\r\n  box-sizing: border-box;\r\n  font-size: 30px;\r\n}\r\n.purchase_echart_model .van-collapse-item__content {\r\n  background-color: #222832;\r\n  color: #ffffff;\r\n}\r\n\r\n.purchase_echart_model .van-cell-group {\r\n  background-color: #222832;\r\n}\r\n.purchase_echart_model .van-radio__label {\r\n  line-height: 70px;\r\n  font-size: 28px;\r\n  color: #ffffff;\r\n}\r\n.purchase_echart_model .van-radio__icon .van-icon {\r\n  border: 2px solid #ffffff;\r\n}\r\n\r\n.purchase_echart_model .van-hairline--top-bottom::after {\r\n  border: 0;\r\n}\r\n.purchase_echart_model .van-radio {\r\n  border-top: 2px solid #55595e;\r\n}\r\n.purchase_echart_model .ai_report_order_foot {\r\n  height: 80px;\r\n  line-height: 40px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  border-top: 2px solid #ffffff;\r\n  border-bottom: 2px solid #ffffff;\r\n  padding: 20px 0;\r\n}\r\n.purchase_echart_model .ai_report_order_foot > div:first-child {\r\n  float: left;\r\n  width: 50%;\r\n  box-sizing: border-box;\r\n  border-right: 2px dashed #ffffff;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.purchase_echart_model .ai_report_order_foot > div:last-child {\r\n  float: left;\r\n  width: 50%;\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.purchaseImg {\r\n  width: 100%;\r\n  height: 500px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.purchase_span {\r\n  height: 80px;\r\n  line-height: 80px;\r\n  font-size: 30px;\r\n\r\n  padding: 15px 0;\r\n}\r\n.purchase_span span {\r\n  margin-left: 20px;\r\n  display: inline;\r\n  border-left: 8px solid #5a92ff;\r\n  padding-left: 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/issue/purchase/modules"}]}