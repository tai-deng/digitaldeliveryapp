{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\user\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\user\\user.vue","mtime":1557998374578},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { GetOrgList, GetEngingConfigByTypeId } from '@/api/api.js';\nexport default {\n  data: function data() {\n    return {\n      cName: '',\n      //登录人的姓名\n      position: '',\n      //用户角色\n      building: [],\n      //建设单位\n      drawbuilding: [],\n      //设计单位\n      doingCom: [],\n      //施工单位\n      BuildMon: '',\n      //楼栋\n      TotalArea: '',\n      //面积\n      detailList: [] //模型浏览\n\n    };\n  },\n  created: function created() {\n    var text = localStorage.getItem('loginUserInfo');\n    var post = JSON.parse(text);\n    console.log('post', post);\n    this.cName = post.loginUserInfo.cName; //用户名字\n\n    this.position = post.loginUserRoles[0].cRoleName; //用户角色\n\n    this.getOrg(localStorage.getItem('projectid')); //公司\n\n    this.GetEnging(localStorage.getItem('projectid')); //获取信息配置，共多少栋，面积\n    // this.\n  },\n  methods: {\n    // 个人信息\n    onMyself: function onMyself() {\n      this.$router.push({\n        path: \"/Modify\"\n      });\n    },\n    // 设置\n    onSetting: function onSetting() {\n      this.$router.push({\n        path: \"/set\"\n      });\n    },\n    // 浏览模型\n    onBrowse: function onBrowse(id, BuildingID) {\n      this.$router.push({\n        path: \"/browseM\",\n        query: {\n          id: id,\n          BuildingID: BuildingID\n        }\n      });\n    },\n    // 施工单位\n    onRoadWork: function onRoadWork(item, arr, text) {\n      this.$router.push({\n        path: \"/addressList\",\n        query: {\n          item: item,\n          arr: arr,\n          text: text\n        }\n      });\n    },\n    //根据项目id获取公司列表\n    getOrg: function getOrg(projectID) {\n      var _this = this;\n\n      this.Request(GetOrgList({\n        projectId: projectID\n      })).then(function (res) {\n        if (res.StatusCode == '200') {\n          _this.building = [];\n          _this.doingCom = [];\n          _this.drawbuilding = [];\n\n          for (var i = 0; i < res.Detiel.length; i++) {\n            if (res.Detiel[i].OrgTypeID == '1') {\n              _this.building.push(res.Detiel[i]);\n            } else if (res.Detiel[i].OrgTypeID == '3') {\n              _this.drawbuilding.push(res.Detiel[i]);\n            } else if (res.Detiel[i].OrgTypeID == '5') {\n              _this.doingCom.push(res.Detiel[i]);\n            }\n          }\n        } else {\n          _this.$dialog.alert({\n            message: res.Message\n          });\n        }\n      });\n    },\n    //获取信息配置\n    GetEnging: function GetEnging(id) {\n      var _this2 = this;\n\n      this.Request(GetEngingConfigByTypeId({\n        ProjectID: id\n      })).then(function (res) {\n        if (res.StatusCode == '200') {\n          if (res.Detiel.length) {\n            _this2.BuildMon = res.Detiel[0].BuildMon; //建筑\n\n            _this2.TotalArea = res.Detiel[0].TotalArea; //建筑面积\n\n            _this2.detailList = res.Detiel[0].StoriedBuildlList; //浏览模型\n          }\n        } else {\n          _this2.$dialog.alert({\n            message: res.Message\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["user.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 侧边栏 用户 -->\n<template>\n  <div class=\"container-user\">\n    <div class=\"user-top flex-between\">\n      <div class=\"user-top-userinfo flex\">\n        <div class=\"user-top-userinfo-l\" @click=\"onMyself\">\n          <img src=\"./user_assets/imgs/user-portrait.png\">\n        </div>\n        <div class=\"user-top-userinfo-r flex-column-center\">\n          <div class=\"user-top-userinfo-r-name\">{{cName}}</div>\n          <div class=\"user-top-userinfo-l-technical\">{{position}}</div>\n        </div>\n      </div>\n      <div class=\"user-top-set\" @click=\"onSetting\">\n        <img src=\"./user_assets/imgs/user-setting.png\">\n      </div>\n    </div>\n    <div class=\"user-theme\">\n      <div class=\"user-theme-title flex\">\n        <div class=\"user-theme-icon\">\n          <img class=\"icon-a\" src=\"./user_assets/imgs/user-construction.png\">\n        </div>\n        <div class=\"user-theme-name\">建设单位</div>\n      </div>\n      <div class=\"user-theme-item\" v-for=\"item in building\"  v-bind:key=\"item.ID\" @click.stop=\"onRoadWork(item,building,'建设单位')\">\n        {{item.Name}}\n      </div>\n    </div>\n    <div class=\"line\">\n      <div class=\"i\"></div>\n    </div>\n    <div class=\"user-theme\">\n      <div class=\"user-theme-title flex\">\n        <div class=\"user-theme-icon\">\n          <img class=\"icon-b\" src=\"./user_assets/imgs/user-design.png\">\n        </div>\n        <div class=\"user-theme-name\">设计单位</div>\n      </div>\n      <div class=\"user-theme-item\" v-for=\"item in drawbuilding\"  v-bind:key=\"item.ID\" @click.stop=\"onRoadWork(item,drawbuilding,'设计单位')\">\n        {{item.Name}}\n      </div>\n    </div>\n    <div class=\"line\">\n      <div class=\"i\"></div>\n    </div>\n    <div class=\"user-theme\">\n      <div class=\"user-theme-title flex\">\n        <div class=\"user-theme-icon\">\n          <img class=\"icon-c\" src=\"./user_assets/imgs/user-road.png\">\n        </div>\n        <div class=\"user-theme-name\">施工单位</div>\n      </div>\n      <div class=\"user-theme-item\" v-for=\"item in doingCom\"  v-bind:key=\"item.ID\" @click.stop=\"onRoadWork(item,doingCom,'施工单位')\">\n        {{item.Name}}\n      </div>\n    </div>\n    <div class=\"line\">\n      <div class=\"i\"></div>\n    </div>\n    <div class=\"user-theme\">\n      <div class=\"user-theme-title flex\">\n        <div class=\"user-theme-icon\">\n          <img class=\"icon-e\" src=\"./user_assets/imgs/user-scale.png\">\n        </div>\n        <div class=\"user-theme-name\">建设规模</div>\n      </div>\n      <div class=\"user-theme-item\">共{{BuildMon}}栋，总建筑面积{{TotalArea}}m²</div>\n    </div>\n    <div class=\"line\">\n      <div class=\"i\"></div>\n    </div>\n    <div class=\"user-theme\">\n      <div class=\"user-theme-title flex\">\n        <div class=\"user-theme-icon\">\n          <img class=\"icon-d\" src=\"./user_assets/imgs/user-model.png\">\n        </div>\n        <div class=\"user-theme-name\">模型浏览</div>\n      </div>\n      <div class=\"user-theme-item\" v-for=\"item in detailList\"  v-bind:key=\"item.BuildingID\" @click.stop=\"onBrowse(item.ID,item.BuildingID)\">\n        {{item.BuildName}}\n      </div>\n     \n    </div>\n  </div>\n</template>\n\n<script type='textecmascript-6'>\nimport {GetOrgList,GetEngingConfigByTypeId} from '@/api/api.js'\nexport default {\n  data() {\n    return {\n      cName:'',//登录人的姓名\n      position:'',//用户角色\n      building:[],//建设单位\n      drawbuilding:[],//设计单位\n      doingCom:[],//施工单位\n      BuildMon:'',//楼栋\n      TotalArea:'',//面积\n      detailList:[],//模型浏览\n\n    };\n  },\n  created(){\n    var text=localStorage.getItem('loginUserInfo');\n    var post=JSON.parse(text);\n    console.log('post',post);\n    this.cName=post.loginUserInfo.cName;   //用户名字\n    this.position=post.loginUserRoles[0].cRoleName; //用户角色\n    this.getOrg(localStorage.getItem('projectid'));   //公司\n    this.GetEnging(localStorage.getItem('projectid')); //获取信息配置，共多少栋，面积\n    // this.\n  },\n  methods: {\n    // 个人信息\n    onMyself() {\n      this.$router.push({ path: \"/Modify\" });\n    },\n    // 设置\n    onSetting() {\n      this.$router.push({ path: \"/set\" });\n    },\n    // 浏览模型\n    onBrowse(id,BuildingID) {\n      this.$router.push({ path: \"/browseM\",query:{id:id,BuildingID:BuildingID} });\n    },\n    // 施工单位\n    onRoadWork(item,arr,text) {\n      this.$router.push({ path: \"/addressList\" ,query:{item:item,arr:arr,text:text}});\n    },\n    //根据项目id获取公司列表\n    getOrg(projectID){\n      this.Request(GetOrgList({projectId:projectID})).then(res=>{\n        if(res.StatusCode=='200'){\n          this.building=[];\n          this.doingCom=[];\n          this.drawbuilding=[];\n          for(var i=0;i<res.Detiel.length;i++){\n            if(res.Detiel[i].OrgTypeID=='1'){\n              this.building.push(res.Detiel[i])\n            }else if(res.Detiel[i].OrgTypeID=='3'){\n              this.drawbuilding.push(res.Detiel[i])\n            }else if(res.Detiel[i].OrgTypeID=='5'){\n              this.doingCom.push(res.Detiel[i])\n            }\n          }\n        }else{\n          this.$dialog.alert({message:res.Message});\n        }\n      });\n    },\n    //获取信息配置\n    GetEnging(id){\n      this.Request(GetEngingConfigByTypeId({ProjectID:id})).then(res=>{\n        if(res.StatusCode=='200'){\n          if(res.Detiel.length){\n            this.BuildMon = res.Detiel[0].BuildMon; //建筑\n            this.TotalArea = res.Detiel[0].TotalArea; //建筑面积\n            this.detailList = res.Detiel[0].StoriedBuildlList; //浏览模型\n          }\n        }else{\n          this.$dialog.alert({message:res.Message});\n        }\n      })\n\n    },\n  }\n};\n</script>\n<style lang='stylus' scoped rel='stylesheet/stylus'>\n@import './user_assets/base.css';\n\n.container-user {\n  width: 100%;\n  height: 100%;\n  background: rgba(34, 40, 50, 1);\n  overflow-y:scroll;\n  white-space: nowrap;\n\n  .line {\n    padding: 0 0.32rem;\n    margin-bottom: 0.37rem;\n  }\n\n  .line .i {\n    background-color: #3D4C64;\n    height: 0.03rem;\n  }\n\n  .icon-a {\n    width: 0.4rem;\n    height: 0.35rem;\n  }\n\n  .icon-b {\n    width: 0.3rem;\n    height: 0.32rem;\n  }\n\n  .icon-c {\n    width: 0.4rem;\n    height: 0.35rem;\n  }\n\n  .icon-d {\n    width: 0.35rem;\n    height: 0.35rem;\n  }\n\n  .icon-e {\n    width: 0.37rem;\n    height: 0.37rem;\n  }\n\n  .user-top {\n    padding: 0.532rem 0.4rem 0.67rem 0.32rem;\n\n    .user-top-userinfo {\n      font-family: SourceHanSansCN-Regular;\n      font-weight: 400;\n\n      .user-top-userinfo-l img {\n        width: 1.6rem;\n        height: 1.6rem;\n        border-radius: 50%;\n        display: block;\n      }\n\n      .user-top-userinfo-r {\n        margin-left: 0.27rem;\n\n        .user-top-userinfo-r-name {\n          font-size: 32px;\n          color: rgba(255, 255, 255, 1);\n          margin-bottom: 0.32rem;\n        }\n\n        .user-top-userinfo-l-technical {\n          font-size: 28px;\n          color: rgba(217, 217, 217, 1);\n        }\n      }\n    }\n\n    .user-top-set img {\n      width: 0.532rem;\n      height: 0.532rem;\n      display: block;\n    }\n  }\n\n  .user-theme {\n    font-size: 30px;\n    font-family: SourceHanSansCN-Medium;\n\n    .user-theme-item {\n      margin-left: 0.88rem;\n      color: rgba(221, 221, 221, 1);\n      margin-bottom: 0.3rem;\n    }\n\n    .user-theme-title {\n      margin-left: 0.32rem;\n      font-weight: 500;\n      color: rgba(255, 255, 255, 1);\n      margin-bottom: 0.37rem;\n\n      .user-theme-icon {\n        width: 0.532rem;\n\n        img {\n          display: block;\n        }\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/user"}]}