{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Public\\软件\\app\\src\\assets\\js\\scopeManage.js","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\assets\\js\\scopeManage.js","mtime":1558163517860},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1552270038615}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Public\\\\\\u8F6F\\u4EF6\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n// 范围管理系列 api调用\nvar userID = localStorage.getItem(\"userId\"); //用户ID\n\nvar projectid = localStorage.getItem(\"projectid\");\nimport { QueryChangList, QueryPurchaseInfo, ReceiveChange, GetChangeInfo, QueryPurchaseList, QueryPurchaseInfoItems, GetBuilding, GetSpecialtybyBuilding, GetFloorbyBuilding, GetCurrentListType, PurcahseApprove, SavePurchase, GetProjectName, GetResourceBySpInfo, QueryPurchaseSumList, GetPurchaseInfo, GetInPurchaseInfo, AddStoreIn, UploadBase64Img, GetAllUserList, AddStoreOut, GetDictInfoList, GetElementIDByInfo, SaveChange, GetLoginUserInfo, QueryAllElementCateNameByInfo, QueryResourceSumItemReport, GetAllElementResorceName } from '../../api/api'; // 获取采购列表\n\nexport var getPurchaseList = function getPurchaseList(that) {\n  var par = {\n    ProjectId: projectid,\n    BuildName: that.options.BuildName == '全部' ? '' : that.options.BuildName,\n    Specialty: that.options.Specialty == '全部' ? '' : that.options.Specialty,\n    Floor: that.options.Floor == '全部' ? '' : that.options.Floor,\n    Name: that.options.Name,\n    page: that.options.page,\n    rows: that.options.rows\n  };\n  that.isLoading = true;\n  QueryPurchaseList(par).then(function (res) {\n    that.isLoading = false;\n\n    if (res.StatusCode == 200) {\n      res.Detiel.forEach(function (element) {\n        element.dCreateTime = element.dCreateTime ? require(\"moment\")(element.dCreateTime).format(\"YYYY-MM-DD\") : \"/\";\n        element.DemandTime = element.DemandTime ? require(\"moment\")(element.DemandTime).format(\"YYYY-MM-DD\") : \"/\";\n        that.rangeList.push(element);\n      });\n      var p = res.Count / that.options.rows;\n\n      if (p <= that.options.page || res.Detiel.length == 0) {\n        that.finished = true;\n      }\n\n      that.options.page++;\n    }\n  });\n}; // 获取清单类型\n\nexport var getListType = function getListType(that) {\n  GetCurrentListType({\n    projectid: projectid\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.listtype = res.Result;\n\n      if (res.Result == 1) {\n        that.labelText = \"资源名称\";\n      } else {\n        that.labelText = \"项目名称\";\n      }\n    }\n  });\n}; // 获取采购信息\n\nexport var getPurchaseInfo = function getPurchaseInfo(that, par, cb) {\n  QueryPurchaseInfo(par).then(function (res) {\n    if (typeof cb == 'function' && res.StatusCode == 200) {\n      cb(res);\n      that.$message({\n        type: 'success',\n        message: res.Message,\n        center: 'true'\n      });\n    } else {\n      that.$message({\n        type: 'warning',\n        message: res.Message,\n        center: 'true'\n      });\n    }\n  }, function () {\n    that.$message({\n      type: 'warning',\n      message: res.Message,\n      center: 'true'\n    });\n  });\n}; // 发起采购\n\nexport var sponsorPurchase = function sponsorPurchase(that, gets, poss, cb) {\n  SavePurchase(gets, poss).then(function (res) {\n    if (res.StatusCode == 200 && typeof cb == 'function') {\n      cb(res);\n      that.$message({\n        type: \"success\",\n        message: res.Message,\n        center: \"true\"\n      });\n      that.$router.go(-1);\n    } else {\n      that.$message({\n        type: \"success\",\n        message: res.Message,\n        center: \"true\"\n      });\n      that.$router.go(-1);\n    }\n  }, function () {\n    that.$message({\n      type: \"success\",\n      message: res.Message,\n      center: \"true\"\n    });\n    that.$router.go(-1);\n  });\n}; // 获取采购详情\n\nexport var getPurchaseListDetil = function getPurchaseListDetil(par, cb) {\n  QueryPurchaseInfoItems(par).then(function (res) {\n    if (typeof cb == \"function\") {\n      cb(res);\n    }\n  });\n}; // 采购---审核/-接收/拒收\n\nexport var purchaseCheck = function purchaseCheck(that, par) {\n  PurcahseApprove(par).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.$message({\n        type: \"success\",\n        message: \"处理成功！\",\n        center: \"true\"\n      });\n      that.$router.go(-1);\n    }\n  });\n}; // 获取变更列表\n\nexport var getChangeList = function getChangeList(that, type) {\n  var par = {\n    projectid: projectid,\n    building: that.options.BuildName == '全部' ? '' : that.options.BuildName,\n    specialty: that.options.Specialty == '全部' ? '' : that.options.Specialty,\n    floor: that.options.Floor == '全部' ? '' : that.options.Floor,\n    name: that.options.Name,\n    page: that.options.page,\n    rows: that.options.rows,\n    type: type\n  };\n\n  if (type == 0) {\n    par.page = that.ingChangePage;\n    that.changeLoading1 = true;\n  } else if (type == 1) {\n    par.page = that.handleChangePage;\n    that.changeLoading2 = true;\n  } else if (type == 2) {\n    par.page = that.overChangePage;\n    that.changeLoading3 = true;\n  } else {\n    return;\n  }\n\n  QueryChangList(par).then(function (data) {\n    if (data.StatusCode === 200) {\n      var p = data.Count / that.options.rows;\n\n      if (data.Detiel.length == 0) {\n        if (type == 0) {\n          that.changeInished1 = true;\n        }\n\n        if (type == 1) {\n          that.changeInished2 = true;\n        }\n\n        if (type == 2) {\n          that.changeInished3 = true;\n        }\n      } else {\n        that.pushData(data, function (item) {\n          if (type == 0) {\n            that.dataIng.push(item);\n          }\n\n          if (type == 1) {\n            that.dataHandle.push(item);\n          }\n\n          if (type == 2) {\n            that.dataOver.push(item);\n          }\n        });\n\n        if (type == 0) {\n          if (p <= that.ingChangePage) {\n            that.changeInished1 = true;\n          }\n\n          that.ingChangePage++;\n        }\n\n        if (type == 1) {\n          if (p <= that.handleChangePage) {\n            that.changeInished2 = true;\n          }\n\n          that.handleChangePage++;\n        }\n\n        if (type == 2) {\n          if (p <= that.overChangePage) {\n            that.changeInished3 = true;\n          }\n\n          that.overChangePage++;\n        }\n      }\n    } else {\n      that.$message({\n        type: \"error\",\n        message: data.Message,\n        center: \"true\"\n      });\n    }\n\n    if (type == 0) {\n      that.changeLoading1 = false;\n    } else if (type == 1) {\n      that.changeLoading2 = false;\n    } else if (type == 2) {\n      that.changeLoading3 = false;\n    }\n  }).catch(function (e) {\n    console.log(e);\n  });\n}; // 获取变更详情\n\nexport var getChangeInfo = function getChangeInfo(par, cb) {\n  GetChangeInfo(par).then(function (res) {\n    if (res.StatusCode == 200 && typeof cb == \"function\") {\n      cb(res.Result);\n    }\n  });\n}; // 变更---审核/-接收/拒收\n\nexport var chanageCheck = function chanageCheck(that, par) {\n  ReceiveChange(par).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.$message({\n        type: \"success\",\n        message: \"处理成功！\",\n        center: \"true\"\n      });\n      that.$router.go(-1);\n    }\n  });\n}; // 获取楼栋\n\nexport var getBuildList = function getBuildList(that, cb) {\n  GetBuilding({\n    projectid: projectid\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      if (res.Detiel.length > 0) {\n        res.Detiel.unshift({\n          text: \"全部\"\n        });\n      }\n\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      } else {\n        that.BuildNameList = res.Detiel;\n      }\n    }\n  });\n}; // 楼栋 -> 获取专业\n\nexport var getSpecialtyList = function getSpecialtyList(that, cb) {\n  GetSpecialtybyBuilding({\n    projectid: projectid,\n    building: that.options.BuildName\n  }).then(function (res) {\n    that.specLoading = false;\n\n    if (res.StatusCode == 200) {\n      if (res.Detiel.length > 0) {\n        res.Detiel.unshift({\n          text: \"全部\"\n        });\n      }\n\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      } else {\n        that.SpecialtyList = res.Detiel;\n      }\n    }\n  });\n}; // 楼栋 -> 获取项目名称\n\nexport var getProjectNames = function getProjectNames(that, cb) {\n  GetProjectName({\n    projectid: projectid,\n    BuildName: that.options.buildname\n  }).then(function (res) {\n    if (res.StatusCode == 200 && typeof cb == 'function') {\n      cb(res.Detiel);\n    }\n  }, function () {});\n}; // 楼栋 -> 专业 -> 获取模型楼层\n\nexport var getFloorList = function getFloorList(that, cb) {\n  GetFloorbyBuilding({\n    projectid: projectid,\n    building: that.options.BuildName,\n    Specialty: that.options.Specialty\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      if (res.Detiel.length > 0) {\n        res.Detiel.unshift({\n          text: \"全部\"\n        });\n      }\n\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      } else {\n        that.FloorbyList = res.Detiel;\n      }\n    }\n  });\n}; // 楼栋 -> 专业 -> 模型楼层 ->  获取物资\n\nexport var getResourceList = function getResourceList(that) {\n  GetResourceBySpInfo({\n    projectid: projectid,\n    building: that.options.BuildName,\n    Specialty: that.options.Specialty,\n    Floor: that.options.Floor\n  }).then(function (res) {\n    ;\n\n    if (res.StatusCode == 200) {\n      that.ResorceNameList = res.Detiel;\n    }\n  }).catch(function (e) {// that.listLoading = false;\n  });\n}; // 获取采购汇总列表\n\nexport var getCollectList = function getCollectList(that, par, cb) {\n  QueryPurchaseSumList(par).then(function (res) {\n    that.$message({\n      message: res.Message\n    });\n\n    if (res.StatusCode == 200) {\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      }\n    }\n  }).catch(function (e) {// that.listLoading = false;\n  });\n}; // 获取采购批次\n\nexport var getPurchaseBatch = function getPurchaseBatch(that, cb) {\n  GetPurchaseInfo({\n    projectid: projectid\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.purchaseBatchList = res.Detiel;\n\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      }\n    }\n  }).catch(function (e) {\n    console.log(e);\n  });\n}; // 上传图片\n\nexport var uploadingPic =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(that, file, detail) {\n    var params, res;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            params = {\n              Base64Photo: file.content,\n              fileext: file.file.name\n            };\n            _context.next = 3;\n            return that.Request(UploadBase64Img(params));\n\n          case 3:\n            res = _context.sent;\n            that.phone_show = false;\n\n            if (res.StatusCode === 200) {\n              that.photoList.push(res.Detiel[0]);\n            } else {\n              that.$message({\n                type: 'error',\n                message: res.Message,\n                center: 'true'\n              });\n            }\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function uploadingPic(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}(); // 获取批次详情--入库\n\nexport var getBatchDetails = function getBatchDetails(that, par, cb) {\n  par.projectid = projectid;\n  GetInPurchaseInfo(par).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.buyThingTable = res.Detiel;\n    }\n  }).catch(function (e) {\n    that.$toast(e);\n  });\n}; // 采购入库提交\n\nexport var submitIn = function submitIn(that, par, cb) {\n  par.projectid = projectid;\n  par.userid = userID;\n  par.model.ProjectID = projectid;\n  AddStoreIn(par).then(function (res) {\n    that.$toast(res.Message);\n\n    if (res.StatusCode == 200) {\n      that.$router.go(-1);\n    }\n  }).catch(function (e) {\n    console.log(e);\n  });\n}; // 清除选项\n\nexport var clearSel = function clearSel(that, sel) {\n  if (sel == 1) {\n    that.SpecialtyList = [];\n    that.FloorbyList = [];\n    that.options.Specialty = '';\n    that.options.Floor = '';\n  } else if (sel == 2) {\n    that.FloorbyList = [];\n    that.options.Floor = '';\n  }\n}; // 采购-出库\n\nexport var storeOut = function storeOut(that, par) {\n  par.model.ProjectID = projectid;\n  par.projectid = projectid;\n  par.userid = userID;\n  AddStoreOut(par).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.$message({\n        message: res.Message,\n        type: \"success\"\n      });\n      that.$router.go(-1);\n    }\n  });\n}; // 采购-领料人\n\nexport var getStewardList = function getStewardList(that) {\n  GetAllUserList({\n    projectId: projectid\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.stewardList = res.Detiel.map(function (item) {\n        return {\n          name: item.text,\n          value: item.id\n        };\n      });\n    }\n  });\n}; // 变更-获取变更类型\n\nexport var getChangeTypeList = function getChangeTypeList(that, cb) {\n  GetDictInfoList({\n    DICode: \"变更类型\",\n    ProjectID: projectid\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      } else {\n        that.workFormSelect = res.Detiel;\n      }\n    }\n  }).catch(function () {});\n}; // 变更-获取 楼栋-专业-楼层-> 构件名称\n\nexport var getChangeElementList = function getChangeElementList(that, cb) {\n  QueryAllElementCateNameByInfo({\n    ProjectID: projectid,\n    BuildName: that.options.BuildName,\n    Specialty: that.options.Specialty,\n    Floor: that.options.Floor\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      } else {\n        that.elementSelect = res.Detiel;\n      }\n    }\n  }).catch(function () {});\n}; // 变更-发起变更提交\n\nexport var submitSaveChange = function submitSaveChange(that, par, cb) {\n  par.ProjectId = projectid;\n  par.StartPerson = userID;\n  par.iCreator = userID;\n  par.iUpdator = userID;\n  SaveChange(par).then(function (res) {\n    that.$message({\n      type: \"warning\",\n      message: res.Message\n    });\n\n    if (res.StatusCode == 200) {\n      cb(res);\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}; // 获取用户信息\n\nexport var getUserInfo = function getUserInfo(that) {\n  GetLoginUserInfo({\n    curUserId: userID\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      that.userInfo = res.Detiel[0].loginUserInfo;\n      that.options.StartPerson = res.Detiel[0].loginUserInfo.cName;\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}; // 通过构件名称获取ID\n\nexport var getElementID = function getElementID(that, par) {\n  par.ProjectID = projectid;\n  par.BuildName = that.options.BuildName;\n  par.Specialty = that.options.Specialty;\n  par.Floor = that.options.Floor;\n  GetElementIDByInfo(par).then(function (res) {\n    that.RelationModel = res.Detiel;\n  }).catch(function (err) {\n    console.log(err);\n  });\n}; // 获取年采购明细\n\nexport var getResourceInfo = function getResourceInfo(that, cb) {\n  var par = {\n    ProjectID: projectid,\n    Year: 2017,\n    ResourceName: that.ResourceName\n  };\n  QueryResourceSumItemReport(par).then(function (res) {\n    that.$message({\n      message: res.Message\n    });\n\n    if (res.StatusCode == 200) {\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      }\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n}; // 获取资源名称\n\nexport var getResourceName = function getResourceName(that, cb) {\n  GetAllElementResorceName({\n    projectid: projectid\n  }).then(function (res) {\n    if (res.StatusCode == 200) {\n      if (typeof cb == 'function') {\n        cb(res.Detiel);\n      }\n    }\n  }).catch(function (err) {\n    console.log(err);\n  });\n};",{"version":3,"sources":["C:\\Users\\Public\\软件\\app\\src\\assets\\js\\scopeManage.js"],"names":["userID","localStorage","getItem","projectid","QueryChangList","QueryPurchaseInfo","ReceiveChange","GetChangeInfo","QueryPurchaseList","QueryPurchaseInfoItems","GetBuilding","GetSpecialtybyBuilding","GetFloorbyBuilding","GetCurrentListType","PurcahseApprove","SavePurchase","GetProjectName","GetResourceBySpInfo","QueryPurchaseSumList","GetPurchaseInfo","GetInPurchaseInfo","AddStoreIn","UploadBase64Img","GetAllUserList","AddStoreOut","GetDictInfoList","GetElementIDByInfo","SaveChange","GetLoginUserInfo","QueryAllElementCateNameByInfo","QueryResourceSumItemReport","GetAllElementResorceName","getPurchaseList","that","par","ProjectId","BuildName","options","Specialty","Floor","Name","page","rows","isLoading","then","res","StatusCode","Detiel","forEach","element","dCreateTime","require","format","DemandTime","rangeList","push","p","Count","length","finished","getListType","listtype","Result","labelText","getPurchaseInfo","cb","$message","type","message","Message","center","sponsorPurchase","gets","poss","$router","go","getPurchaseListDetil","purchaseCheck","getChangeList","building","specialty","floor","name","ingChangePage","changeLoading1","handleChangePage","changeLoading2","overChangePage","changeLoading3","data","changeInished1","changeInished2","changeInished3","pushData","item","dataIng","dataHandle","dataOver","catch","e","console","log","getChangeInfo","chanageCheck","getBuildList","unshift","text","BuildNameList","getSpecialtyList","specLoading","SpecialtyList","getProjectNames","buildname","getFloorList","FloorbyList","getResourceList","ResorceNameList","getCollectList","getPurchaseBatch","purchaseBatchList","uploadingPic","file","detail","params","Base64Photo","content","fileext","Request","phone_show","photoList","getBatchDetails","buyThingTable","$toast","submitIn","userid","model","ProjectID","clearSel","sel","storeOut","getStewardList","projectId","stewardList","map","value","id","getChangeTypeList","DICode","workFormSelect","getChangeElementList","elementSelect","submitSaveChange","StartPerson","iCreator","iUpdator","err","getUserInfo","curUserId","userInfo","loginUserInfo","cName","getElementID","RelationModel","getResourceInfo","Year","ResourceName","getResourceName"],"mappings":"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","sourcesContent":["\r\n// 范围管理系列 api调用\r\nconst userID = localStorage.getItem(\"userId\"); //用户ID\r\nconst projectid = localStorage.getItem(\"projectid\");\r\nimport {\r\n    QueryChangList, QueryPurchaseInfo, ReceiveChange,\r\n    GetChangeInfo, QueryPurchaseList, QueryPurchaseInfoItems,\r\n    GetBuilding, GetSpecialtybyBuilding, GetFloorbyBuilding,\r\n    GetCurrentListType, PurcahseApprove, SavePurchase,\r\n    GetProjectName, GetResourceBySpInfo, QueryPurchaseSumList,\r\n    GetPurchaseInfo, GetInPurchaseInfo, AddStoreIn, UploadBase64Img,\r\n    GetAllUserList, AddStoreOut, GetDictInfoList, GetElementIDByInfo,\r\n    SaveChange, GetLoginUserInfo, QueryAllElementCateNameByInfo,\r\n    QueryResourceSumItemReport,GetAllElementResorceName\r\n} from '../../api/api'\r\n\r\n// 获取采购列表\r\nexport const getPurchaseList = (that) => {\r\n    let par = {\r\n        ProjectId: projectid,\r\n        BuildName: that.options.BuildName == '全部' ? '' : that.options.BuildName,\r\n        Specialty: that.options.Specialty == '全部' ? '' : that.options.Specialty,\r\n        Floor: that.options.Floor == '全部' ? '' : that.options.Floor,\r\n        Name: that.options.Name,\r\n        page: that.options.page,\r\n        rows: that.options.rows,\r\n    }\r\n    that.isLoading = true;\r\n    QueryPurchaseList(par).then(res => {\r\n        that.isLoading = false;\r\n        if (res.StatusCode == 200) {\r\n            res.Detiel.forEach(element => {\r\n                element.dCreateTime = element.dCreateTime\r\n                    ? require(\"moment\")(element.dCreateTime).format(\"YYYY-MM-DD\")\r\n                    : \"/\";\r\n                element.DemandTime = element.DemandTime\r\n                    ? require(\"moment\")(element.DemandTime).format(\"YYYY-MM-DD\")\r\n                    : \"/\";\r\n                that.rangeList.push(element);\r\n            });\r\n            let p = (res.Count / that.options.rows)\r\n            if (p <= that.options.page || res.Detiel.length == 0) {\r\n                that.finished = true;\r\n            }\r\n            that.options.page++\r\n        }\r\n    })\r\n}\r\n\r\n// 获取清单类型\r\nexport const getListType = (that) => {\r\n    GetCurrentListType({ projectid: projectid }).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            that.listtype = res.Result;\r\n            if (res.Result == 1) {\r\n                that.labelText = \"资源名称\";\r\n            } else {\r\n                that.labelText = \"项目名称\";\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n// 获取采购信息\r\nexport const getPurchaseInfo = (that, par, cb) => {\r\n    QueryPurchaseInfo(par).then(\r\n        res => {\r\n            if (typeof cb == 'function' && res.StatusCode == 200) {\r\n                cb(res)\r\n                that.$message({ type: 'success', message: res.Message, center: 'true' })\r\n            } else {\r\n                that.$message({ type: 'warning', message: res.Message, center: 'true' })\r\n            }\r\n        }, () => {\r\n            that.$message({ type: 'warning', message: res.Message, center: 'true' })\r\n        }\r\n    )\r\n}\r\n\r\n// 发起采购\r\nexport const sponsorPurchase = (that, gets, poss, cb) => {\r\n    SavePurchase(gets, poss).then(res => {\r\n        if (res.StatusCode == 200 && typeof cb == 'function') {\r\n            cb(res)\r\n            that.$message({\r\n                type: \"success\",\r\n                message: res.Message,\r\n                center: \"true\"\r\n            });\r\n            that.$router.go(-1);\r\n        } else {\r\n            that.$message({\r\n                type: \"success\",\r\n                message: res.Message,\r\n                center: \"true\"\r\n            });\r\n            that.$router.go(-1);\r\n        }\r\n    }, () => {\r\n        that.$message({\r\n            type: \"success\",\r\n            message: res.Message,\r\n            center: \"true\"\r\n        });\r\n        that.$router.go(-1);\r\n    })\r\n}\r\n\r\n// 获取采购详情\r\nexport const getPurchaseListDetil = (par, cb) => {\r\n    QueryPurchaseInfoItems(par).then(res => {\r\n        if (typeof cb == \"function\") {\r\n            cb(res)\r\n        }\r\n    });\r\n};\r\n\r\n// 采购---审核/-接收/拒收\r\nexport const purchaseCheck = (that, par) => {\r\n    PurcahseApprove(par).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            that.$message({\r\n                type: \"success\",\r\n                message: \"处理成功！\",\r\n                center: \"true\"\r\n            });\r\n            that.$router.go(-1);\r\n        }\r\n    });\r\n}\r\n\r\n// 获取变更列表\r\nexport const getChangeList = (that, type) => {\r\n    let par = {\r\n        projectid: projectid,\r\n        building: that.options.BuildName == '全部' ? '' : that.options.BuildName,\r\n        specialty: that.options.Specialty == '全部' ? '' : that.options.Specialty,\r\n        floor: that.options.Floor == '全部' ? '' : that.options.Floor,\r\n        name: that.options.Name,\r\n        page: that.options.page,\r\n        rows: that.options.rows,\r\n        type\r\n    }\r\n    if (type == 0) {\r\n        par.page = that.ingChangePage;\r\n        that.changeLoading1 = true;\r\n    } else if (type == 1) {\r\n        par.page = that.handleChangePage;\r\n        that.changeLoading2 = true;\r\n    } else if (type == 2) {\r\n        par.page = that.overChangePage;\r\n        that.changeLoading3 = true;\r\n    } else {\r\n        return;\r\n    }\r\n    QueryChangList(par).then(data => {\r\n        if (data.StatusCode === 200) {\r\n            let p = (data.Count / that.options.rows)\r\n            if (data.Detiel.length == 0) {\r\n                if (type == 0) {\r\n                    that.changeInished1 = true;\r\n                }\r\n                if (type == 1) {\r\n                    that.changeInished2 = true;\r\n                }\r\n                if (type == 2) {\r\n                    that.changeInished3 = true;\r\n                }\r\n            } else {\r\n                that.pushData(data, item => {\r\n                    if (type == 0) {\r\n                        that.dataIng.push(item);\r\n                    }\r\n                    if (type == 1) {\r\n                        that.dataHandle.push(item);\r\n                    }\r\n                    if (type == 2) {\r\n                        that.dataOver.push(item);\r\n                    }\r\n                });\r\n                if (type == 0) {\r\n                    if (p <= that.ingChangePage) {\r\n                        that.changeInished1 = true;\r\n                    }\r\n                    that.ingChangePage++;\r\n                }\r\n                if (type == 1) {\r\n                    if (p <= that.handleChangePage) {\r\n                        that.changeInished2 = true;\r\n                    }\r\n                    that.handleChangePage++;\r\n                }\r\n                if (type == 2) {\r\n                    if (p <= that.overChangePage) {\r\n                        that.changeInished3 = true;\r\n                    }\r\n                    that.overChangePage++;\r\n                }\r\n            }\r\n        } else {\r\n            that.$message({\r\n                type: \"error\",\r\n                message: data.Message,\r\n                center: \"true\"\r\n            });\r\n        }\r\n        if (type == 0) {\r\n            that.changeLoading1 = false;\r\n        } else if (type == 1) {\r\n            that.changeLoading2 = false;\r\n        } else if (type == 2) {\r\n            that.changeLoading3 = false;\r\n        }\r\n    }).catch((e) => {\r\n        console.log(e)\r\n    });\r\n}\r\n\r\n// 获取变更详情\r\nexport const getChangeInfo = (par, cb) => {\r\n    GetChangeInfo(par).then(res => {\r\n        if (res.StatusCode == 200 && typeof cb == \"function\") {\r\n            cb(res.Result)\r\n        }\r\n    })\r\n}\r\n\r\n// 变更---审核/-接收/拒收\r\nexport const chanageCheck = (that, par) => {\r\n    ReceiveChange(par).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            that.$message({\r\n                type: \"success\",\r\n                message: \"处理成功！\",\r\n                center: \"true\"\r\n            });\r\n            that.$router.go(-1);\r\n        }\r\n    });\r\n}\r\n\r\n// 获取楼栋\r\nexport const getBuildList = (that, cb) => {\r\n    GetBuilding({ projectid: projectid }).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            if (res.Detiel.length > 0) {\r\n                res.Detiel.unshift({ text: \"全部\" })\r\n            }\r\n            if (typeof cb == 'function') {\r\n                cb(res.Detiel)\r\n            } else {\r\n                that.BuildNameList = res.Detiel;\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n// 楼栋 -> 获取专业\r\nexport const getSpecialtyList = (that, cb) => {\r\n    GetSpecialtybyBuilding({ projectid: projectid, building: that.options.BuildName }).then(\r\n        res => {\r\n            that.specLoading = false;\r\n            if (res.StatusCode == 200) {\r\n                if (res.Detiel.length > 0) {\r\n                    res.Detiel.unshift({ text: \"全部\" })\r\n                }\r\n                if (typeof cb == 'function') {\r\n                    cb(res.Detiel)\r\n                } else {\r\n                    that.SpecialtyList = res.Detiel;\r\n                }\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\n// 楼栋 -> 获取项目名称\r\nexport const getProjectNames = (that, cb) => {\r\n    GetProjectName({ projectid: projectid, BuildName: that.options.buildname }).then(\r\n        res => {\r\n            if (res.StatusCode == 200 && typeof cb == 'function') {\r\n                cb(res.Detiel)\r\n            }\r\n        }, () => { }\r\n    );\r\n\r\n}\r\n\r\n// 楼栋 -> 专业 -> 获取模型楼层\r\nexport const getFloorList = (that, cb) => {\r\n    GetFloorbyBuilding({ projectid: projectid, building: that.options.BuildName, Specialty: that.options.Specialty }).then(\r\n        res => {\r\n            if (res.StatusCode == 200) {\r\n                if (res.Detiel.length > 0) {\r\n                    res.Detiel.unshift({ text: \"全部\" })\r\n                }\r\n                if (typeof cb == 'function') {\r\n                    cb(res.Detiel)\r\n                } else {\r\n                    that.FloorbyList = res.Detiel;\r\n                }\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\n// 楼栋 -> 专业 -> 模型楼层 ->  获取物资\r\nexport const getResourceList = (that) => {\r\n\r\n    GetResourceBySpInfo({ projectid: projectid, building: that.options.BuildName, Specialty: that.options.Specialty, Floor: that.options.Floor }).then(\r\n        res => {\r\n            ;\r\n            if (res.StatusCode == 200) {\r\n                that.ResorceNameList = res.Detiel;\r\n            }\r\n        }\r\n    ).catch(e => {\r\n        // that.listLoading = false;\r\n    });\r\n}\r\n\r\n// 获取采购汇总列表\r\nexport const getCollectList = (that, par, cb) => {\r\n    QueryPurchaseSumList(par).then(\r\n        res => {\r\n            that.$message({\r\n                message: res.Message\r\n            });\r\n            if (res.StatusCode == 200) {\r\n                if (typeof cb == 'function') {\r\n                    cb(res.Detiel)\r\n                }\r\n            }\r\n        }\r\n    ).catch(e => {\r\n        // that.listLoading = false;\r\n    })\r\n}\r\n\r\n// 获取采购批次\r\nexport const getPurchaseBatch = (that, cb) => {\r\n    GetPurchaseInfo({ projectid }).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            that.purchaseBatchList = res.Detiel;\r\n            if (typeof cb == 'function') {\r\n                cb(res.Detiel)\r\n            }\r\n        }\r\n    }).catch(e => {\r\n        console.log(e)\r\n    })\r\n}\r\n\r\n// 上传图片\r\nexport const uploadingPic = async (that, file, detail) => {\r\n    let params = {\r\n        Base64Photo: file.content,\r\n        fileext: file.file.name\r\n    }\r\n    let res = await that.Request(UploadBase64Img(params))\r\n    that.phone_show = false\r\n    if (res.StatusCode === 200) {\r\n        that.photoList.push(res.Detiel[0])\r\n    } else {\r\n        that.$message({\r\n            type: 'error',\r\n            message: res.Message,\r\n            center: 'true'\r\n        })\r\n    }\r\n}\r\n\r\n// 获取批次详情--入库\r\nexport const getBatchDetails = (that, par, cb) => {\r\n    par.projectid = projectid;\r\n    GetInPurchaseInfo(par).then(\r\n        res => {\r\n            if (res.StatusCode == 200) {\r\n                that.buyThingTable = res.Detiel;\r\n            }\r\n        }\r\n    ).catch(e => {\r\n        that.$toast(e);\r\n    })\r\n}\r\n\r\n// 采购入库提交\r\nexport const submitIn = (that, par, cb) => {\r\n    par.projectid = projectid;\r\n    par.userid = userID;\r\n    par.model.ProjectID = projectid;\r\n\r\n    AddStoreIn(par).then(res => {\r\n        that.$toast(res.Message);\r\n        if (res.StatusCode == 200) {\r\n            that.$router.go(-1);\r\n        }\r\n    }).catch(e => {\r\n        console.log(e)\r\n    })\r\n}\r\n\r\n// 清除选项\r\nexport const clearSel = (that, sel) => {\r\n    if (sel == 1) {\r\n        that.SpecialtyList = [];\r\n        that.FloorbyList = [];\r\n        that.options.Specialty = '';\r\n        that.options.Floor = '';\r\n\r\n    } else if (sel == 2) {\r\n        that.FloorbyList = [];\r\n        that.options.Floor = '';\r\n    }\r\n}\r\n\r\n// 采购-出库\r\nexport const storeOut = (that, par) => {\r\n    par.model.ProjectID = projectid;\r\n    par.projectid = projectid;\r\n    par.userid = userID;\r\n    AddStoreOut(par).then((res) => {\r\n        if (res.StatusCode == 200) {\r\n            that.$message({\r\n                message: res.Message,\r\n                type: \"success\"\r\n            });\r\n            that.$router.go(-1);\r\n        }\r\n    })\r\n}\r\n\r\n// 采购-领料人\r\nexport const getStewardList = (that) => {\r\n    GetAllUserList({ projectId: projectid }).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            that.stewardList = res.Detiel.map(item => {\r\n                return {\r\n                    name: item.text,\r\n                    value: item.id\r\n                }\r\n            });\r\n        }\r\n    })\r\n}\r\n\r\n// 变更-获取变更类型\r\nexport const getChangeTypeList = (that, cb) => {\r\n    GetDictInfoList({ DICode: \"变更类型\", ProjectID: projectid }).then(\r\n        res => {\r\n            if (res.StatusCode == 200) {\r\n                if (typeof cb == 'function') {\r\n                    cb(res.Detiel)\r\n                } else {\r\n                    that.workFormSelect = res.Detiel;\r\n                }\r\n            }\r\n        }\r\n    ).catch(() => { });\r\n}\r\n\r\n// 变更-获取 楼栋-专业-楼层-> 构件名称\r\nexport const getChangeElementList = (that, cb) => {\r\n    QueryAllElementCateNameByInfo({ ProjectID: projectid, BuildName: that.options.BuildName, Specialty: that.options.Specialty, Floor: that.options.Floor }).then(\r\n        res => {\r\n            if (res.StatusCode == 200) {\r\n                if (typeof cb == 'function') {\r\n                    cb(res.Detiel)\r\n                } else {\r\n                    that.elementSelect = res.Detiel;\r\n                }\r\n            }\r\n        }\r\n    ).catch(() => { });\r\n}\r\n\r\n// 变更-发起变更提交\r\nexport const submitSaveChange = (that, par, cb) => {\r\n    par.ProjectId = projectid;\r\n    par.StartPerson = userID;\r\n    par.iCreator = userID;\r\n    par.iUpdator = userID;\r\n    SaveChange(par).then(res => {\r\n        that.$message({\r\n            type: \"warning\",\r\n            message: res.Message\r\n        });\r\n        if (res.StatusCode == 200) {\r\n            cb(res)\r\n        }\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\n// 获取用户信息\r\nexport const getUserInfo = (that) => {\r\n    GetLoginUserInfo({ curUserId: userID }).then(res => {\r\n        if (res.StatusCode == 200) {\r\n            that.userInfo = res.Detiel[0].loginUserInfo;\r\n            that.options.StartPerson = res.Detiel[0].loginUserInfo.cName\r\n        }\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\n// 通过构件名称获取ID\r\nexport const getElementID = (that, par) => {\r\n    par.ProjectID = projectid;\r\n    par.BuildName = that.options.BuildName;\r\n    par.Specialty = that.options.Specialty;\r\n    par.Floor = that.options.Floor;\r\n\r\n    GetElementIDByInfo(par).then(res => {\r\n        that.RelationModel = res.Detiel;\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\n// 获取年采购明细\r\nexport const getResourceInfo = (that,cb) =>{\r\n    let par ={\r\n        ProjectID:projectid,\r\n        Year:2017,\r\n        ResourceName:that.ResourceName,\r\n    }\r\n    QueryResourceSumItemReport(par).then(res=>{\r\n        that.$message({\r\n            message: res.Message\r\n        });\r\n        if (res.StatusCode == 200) {\r\n            if (typeof cb == 'function') {\r\n                cb(res.Detiel)\r\n            }\r\n        }\r\n    }).catch(err=>{console.log(err)})\r\n}\r\n\r\n// 获取资源名称\r\nexport const getResourceName = (that,cb)=>{\r\n    GetAllElementResorceName({projectid}).then(res=>{\r\n        if (res.StatusCode == 200) {\r\n            if (typeof cb == 'function') {\r\n                cb(res.Detiel)\r\n            }\r\n        }\r\n    }).catch(err=>{console.log(err)})\r\n}"]}]}