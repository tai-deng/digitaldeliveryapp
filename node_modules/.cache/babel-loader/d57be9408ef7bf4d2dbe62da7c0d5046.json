{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\index\\CostControl\\CostControl.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\index\\CostControl\\CostControl.vue","mtime":1558065367569},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Public\\\\\\u8F6F\\u4EF6\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { QueryCostData, GetBuilding, GetSpecialtybyBuilding, GetFloorbyBuilding, GetResourceBySpInfo, GetTaskByInfo } from \"@/api/api.js\";\nexport default {\n  data: function data() {\n    return {\n      loading: false,\n      //是否处于加载状态\n      finished: false,\n      //是否已加载完成\n      ProjectID: localStorage.getItem('projectid'),\n      //项目ID\n      userID: localStorage.getItem(\"userId\"),\n      //用户ID\n      activeName: \"\",\n      //默认不展开\n      shwoScreen: false,\n      //默认不显示筛选\n      buildName: '',\n      //整栋模型\n      specialty: '',\n      //专业\n      floor: '',\n      //楼层\n      taskId: '',\n      //进度节点\n      resourceName: '',\n      //资源\n      costControlLists: [],\n      buildingList: [],\n      //整栋模型列表\n      specialtyList: [],\n      //专业列表\n      floorList: [],\n      //楼层列表\n      taskList: [],\n      //进度节点列表\n      resourceList: [],\n      //资源列表\n      colorID: 0 //颜色ID\n      // screen_list: [],//筛选列表\n\n    };\n  },\n  created: function created() {\n    this.getCostData();\n  },\n  methods: {\n    /**\r\n     * @name 获取成本管理列表数据\r\n     * @param {string} ProjectID 项目ID\r\n     * @param {string} BuildName 楼栋\r\n     * @param {string} Specialty 专业\r\n     * @param {string} Floor 楼层\r\n     * @param {string} ResourceName 资源名称\r\n     * @param {string} TaskId 进度ID\r\n     * @param {integer} ColorID \t颜色ID\r\n     */\n    getCostData: function () {\n      var _getCostData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var params, costData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                params = {\n                  ProjectID: this.ProjectID,\n                  BuildName: this.buildName,\n                  Specialty: this.specialty,\n                  Floor: this.floor,\n                  TaskId: this.taskId,\n                  ResourceName: this.resourceName // ColorID: this.colorID\n\n                };\n                console.log(\"检索参数\", params);\n                _context.prev = 2;\n                _context.next = 5;\n                return this.Request(QueryCostData(params));\n\n              case 5:\n                costData = _context.sent;\n\n                if (costData.StatusCode == 200) {\n                  console.log(\"成本数据\", costData);\n\n                  if (costData.Detiel.length > 0) {\n                    this.costControlLists = costData.Detiel;\n                  } else {\n                    this.$toast({\n                      message: \"暂无数据\",\n                      className: \"my-toast\"\n                    });\n                    this.costControlLists = [];\n                  }\n\n                  this.loading = false;\n                  this.finished = true; // 数据全部加载完成\n                  // if (this.list.length >= 40) {\n                  //   this.finished = true;\n                  // }\n                } else {\n                  this.$toast({\n                    type: 'fail',\n                    message: costData.message ? costData.message : '后台异常',\n                    className: \"my-toast\"\n                  });\n                }\n\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](2);\n                console.log('%c函数 %s 抛出异常：%s', 'color: red;', 'getCostData', _context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      function getCostData() {\n        return _getCostData.apply(this, arguments);\n      }\n\n      return getCostData;\n    }(),\n\n    /**\r\n     * @name 获取模型的楼栋数据\r\n     */\n    getBuildingData: function () {\n      var _getBuildingData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var buildingData, i, Option;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.Request(GetBuilding({\n                  projectid: this.ProjectID\n                }));\n\n              case 2:\n                buildingData = _context2.sent;\n\n                if (buildingData.StatusCode == 200) {\n                  this.buildingList = [];\n                  this.buildingList.unshift({\n                    label: \"整体楼栋\",\n                    value: \"\"\n                  });\n\n                  for (i = 0; i < buildingData.Detiel.length; i++) {\n                    Option = {};\n                    Option.label = buildingData.Detiel[i].text;\n                    Option.value = buildingData.Detiel[i].id;\n                    this.buildingList.push(Option);\n                  }\n                } else {\n                  this.$toast({\n                    type: 'fail',\n                    message: buildingData.message ? buildingData.message : '后台异常',\n                    className: \"my-toast\"\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getBuildingData() {\n        return _getBuildingData.apply(this, arguments);\n      }\n\n      return getBuildingData;\n    }(),\n\n    /**\r\n     * @name 根据楼栋获取模型的专业\r\n     */\n    getSpecialtyData: function () {\n      var _getSpecialtyData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var specialtyData, i, Option;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.Request(GetSpecialtybyBuilding({\n                  projectid: this.ProjectID,\n                  building: this.buildName\n                }));\n\n              case 2:\n                specialtyData = _context3.sent;\n\n                if (specialtyData.StatusCode == 200) {\n                  this.specialtyList = [];\n\n                  if (specialtyData.Detiel.length > 0) {\n                    for (i = 0; i < specialtyData.Detiel.length; i++) {\n                      Option = {};\n                      Option.label = specialtyData.Detiel[i].text;\n                      Option.value = specialtyData.Detiel[i].id;\n                      this.specialtyList.push(Option);\n                    }\n                  } else {\n                    this.specialtyList = [];\n                  }\n                } else {\n                  this.$toast({\n                    type: 'fail',\n                    message: specialtyData.message ? specialtyData.message : '后台异常',\n                    className: \"my-toast\"\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getSpecialtyData() {\n        return _getSpecialtyData.apply(this, arguments);\n      }\n\n      return getSpecialtyData;\n    }(),\n\n    /**\r\n     * @name 根据楼栋获取模型的楼层\r\n     */\n    getFloorData: function () {\n      var _getFloorData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var floorData, i, Option;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.Request(GetFloorbyBuilding({\n                  projectid: this.ProjectID,\n                  building: this.buildName,\n                  specialty: this.specialty\n                }));\n\n              case 2:\n                floorData = _context4.sent;\n\n                if (floorData.StatusCode == 200) {\n                  this.floorList = [];\n\n                  if (floorData.Detiel.length > 0) {\n                    for (i = 0; i < floorData.Detiel.length; i++) {\n                      Option = {};\n                      Option.label = floorData.Detiel[i].text;\n                      Option.value = floorData.Detiel[i].id;\n                      this.floorList.push(Option);\n                    }\n                  } else {\n                    this.floorList = [];\n                  }\n                } else {\n                  this.$toast({\n                    type: 'fail',\n                    message: floorData.message ? floorData.message : '后台异常',\n                    className: \"my-toast\"\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getFloorData() {\n        return _getFloorData.apply(this, arguments);\n      }\n\n      return getFloorData;\n    }(),\n\n    /**\r\n     * @name 根据楼栋楼层专业获取物资名称\r\n     */\n    getResourceData: function () {\n      var _getResourceData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var resourceData, i, Option;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.Request(GetResourceBySpInfo({\n                  ProjectID: this.ProjectID,\n                  BuildName: this.buildName,\n                  Specialty: this.specialty,\n                  Floor: this.floor\n                }));\n\n              case 2:\n                resourceData = _context5.sent;\n\n                if (resourceData.StatusCode == 200) {\n                  this.resourceList = [];\n\n                  if (resourceData.Detiel.length > 0) {\n                    for (i = 0; i < resourceData.Detiel.length; i++) {\n                      Option = {};\n                      Option.label = resourceData.Detiel[i].text;\n                      Option.value = resourceData.Detiel[i].id;\n                      this.resourceList.push(Option);\n                    }\n                  } else {\n                    this.resourceList = [];\n                  }\n                } else {\n                  this.$toast({\n                    type: 'fail',\n                    message: resourceData.message ? resourceData.message : '后台异常',\n                    className: \"my-toast\"\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getResourceData() {\n        return _getResourceData.apply(this, arguments);\n      }\n\n      return getResourceData;\n    }(),\n\n    /**\r\n     * @name 根据楼栋楼层专业获取任务（进度）名称\r\n     */\n    getTaskData: function () {\n      var _getTaskData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var taskData, i, Option;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.Request(GetTaskByInfo({\n                  ProjectID: this.ProjectID,\n                  BuildName: this.buildName,\n                  Specialty: this.specialty,\n                  Floor: this.floor,\n                  ResourceName: this.resourceName\n                }));\n\n              case 2:\n                taskData = _context6.sent;\n\n                if (taskData.StatusCode == 200) {\n                  this.taskList = [];\n\n                  if (taskData.Detiel.length > 0) {\n                    for (i = 0; i < taskData.Detiel.length; i++) {\n                      Option = {};\n                      Option.label = taskData.Detiel[i].text;\n                      Option.value = taskData.Detiel[i].id;\n                      this.taskList.push(Option);\n                    }\n                  } else {\n                    this.taskList = [];\n                  }\n                } else {\n                  this.$toast({\n                    type: 'fail',\n                    message: taskData.message ? taskData.message : '后台异常',\n                    className: \"my-toast\"\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function getTaskData() {\n        return _getTaskData.apply(this, arguments);\n      }\n\n      return getTaskData;\n    }(),\n\n    /**\r\n     * @name 切换折叠面板时触发\r\n     * @param {string | array} activeNames\r\n     */\n    changeCollapseItem: function changeCollapseItem(activeNames) {\n      console.log(\"==折叠面板 activeNames==\", activeNames);\n\n      switch (activeNames) {\n        case \"1\":\n          {\n            this.getBuildingData();\n          }\n          break;\n\n        case \"2\":\n          {\n            if (this.buildName === \"\") {\n              this.$toast({\n                message: '请先选择楼栋！',\n                className: \"my-toast\"\n              });\n              return;\n            }\n          }\n          break;\n\n        case \"3\":\n          {\n            if (this.buildName === \"\" || this.specialty === \"\") {\n              this.$toast({\n                message: '请先选择楼栋和专业！',\n                className: \"my-toast\"\n              });\n              return;\n            }\n          }\n          break;\n\n        case \"4\":\n          {\n            if (this.buildName === \"\" || this.specialty === \"\" || this.floor === \"\") {\n              this.$toast({\n                message: '请先选择楼栋、专业和楼层！',\n                className: \"my-toast\"\n              });\n              return;\n            }\n          }\n          break;\n\n        case \"5\":\n          {\n            if (this.buildName === \"\" || this.specialty === \"\" || this.floor === \"\" || this.resourceName === \"\") {\n              this.$toast({\n                message: '请先选择楼栋、专业、楼层和资源！',\n                className: \"my-toast\"\n              });\n              return;\n            }\n          }\n          break;\n\n        default:\n          break;\n      }\n    },\n    //返回\n    goBack: function goBack() {\n      this.$router.push({\n        path: \"/nav/to/index\"\n      });\n    },\n    //查看详情\n    costControlDetails: function costControlDetails(item) {\n      console.log(\"item\", item);\n      this.$router.push({\n        path: \"/CostControlDetails\",\n        query: {\n          BuildName: this.buildName,\n          Specialty: this.specialty,\n          Floor: this.floor,\n          TaskId: this.taskId,\n          ResourceName: item.ResorceName // AdjustBOQ: item.AdjustBOQ\n\n        }\n      });\n    },\n    //右侧筛选\n    changeScreen: function changeScreen() {\n      this.shwoScreen = !this.shwoScreen;\n    },\n    // 重置\n    resetFunc: function resetFunc() {\n      this.buildName = '';\n      this.specialty = '';\n      this.floor = '';\n      this.resourceName = '';\n      this.taskId = ''; // this.screen_list = []\n    },\n    //确认 \n    recordCheck: function recordCheck() {\n      // console.log('确认',this.screen_list)\n      this.getCostData();\n      this.shwoScreen = false;\n    },\n    //选中楼栋\n    clickTung: function clickTung(item) {\n      // console.log(item,'clickTung')\n      // this.screen_list.push(item)\n      this.buildName = item.value;\n      this.specialty = '';\n      this.floor = '';\n      this.resourceName = '';\n      this.taskId = '';\n      this.getSpecialtyData();\n    },\n    //选中专业\n    clickMajor: function clickMajor(item) {\n      this.specialty = item.value;\n      this.floor = '';\n      this.resourceName = '';\n      this.taskId = '';\n      this.getFloorData();\n    },\n    //选中楼层\n    clickFloor: function clickFloor(item) {\n      this.floor = item.value;\n      this.resourceName = '';\n      this.taskId = '';\n      this.getResourceData();\n    },\n    //选中资源\n    clickResources: function clickResources(item) {\n      this.resourceName = item.value;\n      this.taskId = '';\n      this.getTaskData();\n    },\n    //选中进度节点\n    clickNode: function clickNode(item) {\n      this.taskId = item.value;\n    }\n  }\n};",{"version":3,"sources":["CostControl.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- 成本管理 -->\r\n<template>\r\n  <div class=\"container-cost_control\">\r\n    <!-- 头部 -->\r\n    <van-nav-bar\r\n      title=\"成本管理\"\r\n      @click-left=\"goBack\"\r\n      @click-right=\"changeScreen\"\r\n      fixed\r\n      :border=\"false\"\r\n      :z-index=\"100\"\r\n    >\r\n      <span class=\"el-icon-arrow-left fontsize\" slot=\"left\"></span>\r\n      <img src=\"../../../assets/imgs/screen.png\" class=\"screen fontsize\" slot=\"right\">\r\n    </van-nav-bar>\r\n    <div class=\"Interlayer\"></div>\r\n    <div class=\"wrapper\">\r\n\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        class=\"my-list\"\r\n      >\r\n        <div\r\n          class=\"cost_control_box\"\r\n          v-for=\"(item,index) in costControlLists\"\r\n          :key=\"item.index\"\r\n          @click=\"costControlDetails(item)\"\r\n        >\r\n          <div class=\"cost_control_title\">\r\n            <span class=\"title_index\">{{index + 1}}</span>\r\n            <span class=\"title_content\">{{item.ResorceName}}</span>\r\n            <span class=\"el-icon-arrow-right\"></span>\r\n          </div>\r\n          <div class=\"cost_control_content\">\r\n            <span class=\"content_details\">\r\n              施工图预算量:\r\n              <span>{{item.BOQ}}</span>\r\n            </span>\r\n            <span class=\"content_details\">\r\n              系数:\r\n              <span>{{item.Coefficient}}</span>\r\n            </span>\r\n            <span class=\"content_details\">\r\n              施工预算量:\r\n              <span>{{item.AdjustBOQ}}</span>\r\n            </span>\r\n            <span class=\"content_details\">\r\n              实际消耗量:\r\n              <span>{{item.RealConsume}}</span>\r\n            </span>\r\n            <span class=\"content_details\">\r\n              差额:\r\n              <span>{{item.DiffValue}}</span>\r\n            </span>\r\n            <span class=\"content_details\">\r\n              偏差率:\r\n              <span>{{item.DiffRate}}</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </van-list>\r\n\r\n\r\n      <!-- <div\r\n        class=\"cost_control_box\"\r\n        v-for=\"(item,index) in costControlLists\"\r\n        :key=\"item.index\"\r\n        @click=\"costControlDetails(item)\"\r\n      >\r\n        <div class=\"cost_control_title\">\r\n          <span class=\"title_index\">{{index + 1}}</span>\r\n          <span class=\"title_content\">{{item.ResorceName}}</span>\r\n          <span class=\"el-icon-arrow-right\"></span>\r\n        </div>\r\n        <div class=\"cost_control_content\">\r\n          <span class=\"content_details\">\r\n            施工图预算量:\r\n            <span>{{item.BOQ}}</span>\r\n          </span>\r\n          <span class=\"content_details\">\r\n            系数:\r\n            <span>{{item.Coefficient}}</span>\r\n          </span>\r\n          <span class=\"content_details\">\r\n            施工预算量:\r\n            <span>{{item.AdjustBOQ}}</span>\r\n          </span>\r\n          <span class=\"content_details\">\r\n            实际消耗量:\r\n            <span>{{item.RealConsume}}</span>\r\n          </span>\r\n          <span class=\"content_details\">\r\n            差额:\r\n            <span>{{item.DiffValue}}</span>\r\n          </span>\r\n          <span class=\"content_details\">\r\n            偏差率:\r\n            <span>{{item.DiffRate}}</span>\r\n          </span>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n    <!-- 筛选内容 -->\r\n    <div class=\"select_layer\" v-show=\"shwoScreen\">\r\n      <van-collapse v-model=\"activeName\" accordion @change=\"changeCollapseItem\">\r\n        <van-collapse-item title=\"整栋楼栋\" name=\"1\">\r\n          <div slot=\"icon\">\r\n            <img class=\"icon_down\" src=\"../../../assets/imgs/select_down.png\">\r\n          </div>\r\n          <van-radio-group v-model=\"buildName\">\r\n            <van-radio v-for=\"(item,index) in buildingList\" :key=\"index\" @click=\"clickTung(item)\" :name=\"item.value\" class=\"my-radio\">{{item.label}}</van-radio>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n        <van-collapse-item title=\"全部专业\" name=\"2\">\r\n          <div slot=\"icon\">\r\n            <img class=\"icon_down\" src=\"../../../assets/imgs/select_down.png\">\r\n          </div>\r\n          <van-radio-group v-model=\"specialty\">\r\n            <van-radio v-for=\"(item,index) in specialtyList\" :key=\"index\" @click=\"clickMajor(item)\" :name=\"item.value\" class=\"my-radio\">{{item.label}}</van-radio>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n        <van-collapse-item title=\"全部楼层\" name=\"3\">\r\n          <div slot=\"icon\">\r\n            <img class=\"icon_down\" src=\"../../../assets/imgs/select_down.png\">\r\n          </div>\r\n          <van-radio-group v-model=\"floor\">\r\n            <van-radio v-for=\"(item,index) in floorList\" :key=\"index\" @click=\"clickFloor(item)\" :name=\"item.value\" class=\"my-radio\">{{item.label}}</van-radio>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n        <van-collapse-item title=\"全部资源\" name=\"4\">\r\n          <div slot=\"icon\">\r\n            <img class=\"icon_down\" src=\"../../../assets/imgs/select_down.png\">\r\n          </div>\r\n          <van-radio-group v-model=\"resourceName\">\r\n            <van-radio v-for=\"(item,index) in resourceList\" :key=\"index\" @click=\"clickResources(item)\" :name=\"item.value\" class=\"my-radio\">{{item.label}}</van-radio>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n        <van-collapse-item title=\"进度节点\" name=\"5\">\r\n          <div slot=\"icon\">\r\n            <img class=\"icon_down\" src=\"../../../assets/imgs/select_down.png\">\r\n          </div>\r\n          <van-radio-group v-model=\"taskId\">\r\n            <van-radio v-for=\"(item,index) in taskList\" :key=\"index\" @click=\"clickNode(item)\" :name=\"item.value\" class=\"my-radio\">{{item.label}}</van-radio>\r\n          </van-radio-group>\r\n        </van-collapse-item>\r\n      </van-collapse>\r\n      <div class=\"btn\">\r\n        <button class=\"reset\" @click=\" resetFunc\">重置</button>\r\n        <div class=\"line\"></div>\r\n        <button class=\"check\" @click=\"recordCheck\">确认</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type='textecmascript-6'>\r\nimport { QueryCostData, GetBuilding, GetSpecialtybyBuilding, GetFloorbyBuilding, GetResourceBySpInfo, GetTaskByInfo } from \"@/api/api.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,  //是否处于加载状态\r\n      finished: false,  //是否已加载完成\r\n      ProjectID: localStorage.getItem('projectid'), //项目ID\r\n      userID: localStorage.getItem(\"userId\"), //用户ID\r\n      activeName: \"\", //默认不展开\r\n      shwoScreen: false, //默认不显示筛选\r\n      buildName: '',//整栋模型\r\n      specialty: '',//专业\r\n      floor: '',//楼层\r\n      taskId: '',//进度节点\r\n      resourceName: '',//资源\r\n      costControlLists: [],\r\n      buildingList: [],//整栋模型列表\r\n      specialtyList: [],//专业列表\r\n      floorList: [],//楼层列表\r\n      taskList: [],//进度节点列表\r\n      resourceList: [],  //资源列表\r\n      colorID: 0  //颜色ID\r\n      // screen_list: [],//筛选列表\r\n    };\r\n  },\r\n  created() {\r\n    this.getCostData()\r\n  },\r\n  methods: {\r\n    /**\r\n     * @name 获取成本管理列表数据\r\n     * @param {string} ProjectID 项目ID\r\n     * @param {string} BuildName 楼栋\r\n     * @param {string} Specialty 专业\r\n     * @param {string} Floor 楼层\r\n     * @param {string} ResourceName 资源名称\r\n     * @param {string} TaskId 进度ID\r\n     * @param {integer} ColorID \t颜色ID\r\n     */\r\n    async getCostData(){\r\n      let params = {\r\n        ProjectID: this.ProjectID,\r\n        BuildName: this.buildName,\r\n        Specialty: this.specialty,\r\n        Floor: this.floor,\r\n        TaskId: this.taskId,\r\n        ResourceName: this.resourceName\r\n        // ColorID: this.colorID\r\n      }\r\n      console.log(\"检索参数\", params)\r\n      try{\r\n        let costData = await this.Request(QueryCostData(params))\r\n        if(costData.StatusCode == 200){\r\n          console.log(\"成本数据\", costData)\r\n          if(costData.Detiel.length > 0){\r\n            this.costControlLists = costData.Detiel\r\n          }else{\r\n            this.$toast({\r\n              message: \"暂无数据\",\r\n              className: \"my-toast\"\r\n            });\r\n            this.costControlLists = [];\r\n          }\r\n          this.loading = false;\r\n          this.finished = true;\r\n\r\n          // 数据全部加载完成\r\n          // if (this.list.length >= 40) {\r\n          //   this.finished = true;\r\n          // }\r\n        }else{\r\n          this.$toast({\r\n            type: 'fail',\r\n            message: costData.message ? costData.message : '后台异常',\r\n            className: \"my-toast\"\r\n          })\r\n        }\r\n      } catch (err) {\r\n        console.log('%c函数 %s 抛出异常：%s', 'color: red;', 'getCostData', err);\r\n      }\r\n    },\r\n    /**\r\n     * @name 获取模型的楼栋数据\r\n     */\r\n    async getBuildingData(){\r\n      let buildingData = await this.Request(GetBuilding({projectid: this.ProjectID}),)\r\n      if(buildingData.StatusCode == 200){\r\n        this.buildingList = [];\r\n        this.buildingList.unshift({label: \"整体楼栋\", value: \"\"})\r\n        for (let i = 0; i < buildingData.Detiel.length; i++) {\r\n          let Option = {};\r\n          Option.label = buildingData.Detiel[i].text;\r\n          Option.value = buildingData.Detiel[i].id;\r\n          this.buildingList.push(Option);\r\n        }\r\n      }else{\r\n        this.$toast({\r\n          type: 'fail',\r\n          message: buildingData.message ? buildingData.message : '后台异常',\r\n          className: \"my-toast\"\r\n        })\r\n      }\r\n    },\r\n    /**\r\n     * @name 根据楼栋获取模型的专业\r\n     */\r\n    async getSpecialtyData(){\r\n      let specialtyData = await this.Request(GetSpecialtybyBuilding({projectid: this.ProjectID, building: this.buildName}),)\r\n      if(specialtyData.StatusCode == 200){\r\n        this.specialtyList = [];\r\n        if(specialtyData.Detiel.length > 0){\r\n          for (let i = 0; i < specialtyData.Detiel.length; i++) {\r\n            let Option = {};\r\n            Option.label = specialtyData.Detiel[i].text;\r\n            Option.value = specialtyData.Detiel[i].id;\r\n            this.specialtyList.push(Option);\r\n          }\r\n        }else{\r\n          this.specialtyList = []\r\n        }\r\n      }else{\r\n        this.$toast({\r\n          type: 'fail',\r\n          message: specialtyData.message ? specialtyData.message : '后台异常',\r\n          className: \"my-toast\"\r\n        })\r\n      }\r\n    },\r\n    /**\r\n     * @name 根据楼栋获取模型的楼层\r\n     */\r\n    async getFloorData(){\r\n      let floorData = await this.Request(\r\n        GetFloorbyBuilding({\r\n          projectid: this.ProjectID, \r\n          building: this.buildName,\r\n          specialty: this.specialty\r\n        })\r\n      )\r\n      if(floorData.StatusCode == 200){\r\n        this.floorList = [];\r\n        if(floorData.Detiel.length > 0){\r\n          for (let i = 0; i < floorData.Detiel.length; i++) {\r\n            let Option = {};\r\n            Option.label = floorData.Detiel[i].text;\r\n            Option.value = floorData.Detiel[i].id;\r\n            this.floorList.push(Option);\r\n          }\r\n        }else{\r\n          this.floorList = []\r\n        }\r\n      }else{\r\n        this.$toast({\r\n          type: 'fail',\r\n          message: floorData.message ? floorData.message : '后台异常',\r\n          className: \"my-toast\"\r\n        })\r\n      }\r\n    },\r\n    /**\r\n     * @name 根据楼栋楼层专业获取物资名称\r\n     */\r\n    async getResourceData(){\r\n      let resourceData = await this.Request(\r\n        GetResourceBySpInfo({\r\n          ProjectID: this.ProjectID, \r\n          BuildName: this.buildName,\r\n          Specialty: this.specialty,\r\n          Floor: this.floor\r\n        })\r\n      )\r\n      if(resourceData.StatusCode == 200){\r\n        this.resourceList = [];\r\n        if(resourceData.Detiel.length > 0){\r\n          for (let i = 0; i < resourceData.Detiel.length; i++) {\r\n            let Option = {};\r\n            Option.label = resourceData.Detiel[i].text;\r\n            Option.value = resourceData.Detiel[i].id;\r\n            this.resourceList.push(Option);\r\n          }\r\n        }else{\r\n          this.resourceList = []\r\n        }\r\n      }else{\r\n        this.$toast({\r\n          type: 'fail',\r\n          message: resourceData.message ? resourceData.message : '后台异常',\r\n          className: \"my-toast\"\r\n        })\r\n      }\r\n    },\r\n    /**\r\n     * @name 根据楼栋楼层专业获取任务（进度）名称\r\n     */\r\n    async getTaskData(){\r\n      let taskData = await this.Request(\r\n        GetTaskByInfo({\r\n          ProjectID: this.ProjectID, \r\n          BuildName: this.buildName,\r\n          Specialty: this.specialty,\r\n          Floor: this.floor,\r\n          ResourceName: this.resourceName\r\n        })\r\n      )\r\n      if(taskData.StatusCode == 200){\r\n        this.taskList = [];\r\n        if(taskData.Detiel.length > 0){\r\n          for (let i = 0; i < taskData.Detiel.length; i++) {\r\n            let Option = {};\r\n            Option.label = taskData.Detiel[i].text;\r\n            Option.value = taskData.Detiel[i].id;\r\n            this.taskList.push(Option);\r\n          }\r\n        }else{\r\n          this.taskList = []\r\n        }\r\n      }else{\r\n        this.$toast({\r\n          type: 'fail',\r\n          message: taskData.message ? taskData.message : '后台异常',\r\n          className: \"my-toast\"\r\n        })\r\n      }\r\n    },\r\n    /**\r\n     * @name 切换折叠面板时触发\r\n     * @param {string | array} activeNames\r\n     */\r\n    changeCollapseItem(activeNames){\r\n      console.log(\"==折叠面板 activeNames==\", activeNames)\r\n      switch (activeNames) {\r\n        case \"1\":\r\n          {\r\n            this.getBuildingData()\r\n          }\r\n          break;\r\n        case \"2\":\r\n          {\r\n            if(this.buildName === \"\"){\r\n              this.$toast({\r\n                message: '请先选择楼栋！',\r\n                className: \"my-toast\"\r\n              });\r\n              return;\r\n            }\r\n          }\r\n          break;\r\n        case \"3\":\r\n          {\r\n            if(this.buildName === \"\" || this.specialty === \"\"){\r\n              this.$toast({\r\n                message: '请先选择楼栋和专业！',\r\n                className: \"my-toast\"\r\n              });\r\n              return;\r\n            }\r\n          }\r\n          break;\r\n        case \"4\":\r\n          {\r\n            if(this.buildName === \"\" || this.specialty === \"\" || this.floor === \"\"){\r\n              this.$toast({\r\n                message: '请先选择楼栋、专业和楼层！',\r\n                className: \"my-toast\"\r\n              });\r\n              return;\r\n            }\r\n          }\r\n          break\r\n        case \"5\":\r\n          {\r\n            if(this.buildName === \"\" || this.specialty === \"\" || this.floor === \"\" || this.resourceName === \"\"){\r\n              this.$toast({\r\n                message: '请先选择楼栋、专业、楼层和资源！',\r\n                className: \"my-toast\"\r\n              });\r\n              return;\r\n            }\r\n          }\r\n          break;\r\n      \r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    //返回\r\n    goBack() {\r\n      this.$router.push({ path: \"/nav/to/index\" });\r\n    },\r\n    //查看详情\r\n    costControlDetails(item) {\r\n      console.log(\"item\", item);\r\n      this.$router.push({ \r\n        path: \"/CostControlDetails\",\r\n        query:{\r\n          BuildName: this.buildName,\r\n          Specialty: this.specialty,\r\n          Floor: this.floor,\r\n          TaskId: this.taskId,\r\n          ResourceName: item.ResorceName\r\n          // AdjustBOQ: item.AdjustBOQ\r\n        } \r\n      });\r\n    },\r\n    //右侧筛选\r\n    changeScreen() {\r\n      this.shwoScreen = !this.shwoScreen;\r\n    },\r\n    // 重置\r\n    resetFunc() {\r\n      this.buildName = ''\r\n      this.specialty = ''\r\n      this.floor = ''\r\n      this.resourceName = ''\r\n      this.taskId = ''\r\n      // this.screen_list = []\r\n    },\r\n    //确认 \r\n    recordCheck() {\r\n      // console.log('确认',this.screen_list)\r\n      this.getCostData()\r\n      this.shwoScreen = false\r\n    },\r\n    //选中楼栋\r\n    clickTung(item) {\r\n      // console.log(item,'clickTung')\r\n      // this.screen_list.push(item)\r\n      this.buildName = item.value;\r\n      this.specialty = ''\r\n      this.floor = ''\r\n      this.resourceName = ''\r\n      this.taskId = ''\r\n      this.getSpecialtyData()\r\n    },\r\n    //选中专业\r\n    clickMajor(item) {\r\n      this.specialty = item.value;\r\n      this.floor = ''\r\n      this.resourceName = ''\r\n      this.taskId = ''\r\n      this.getFloorData()\r\n    },\r\n    //选中楼层\r\n    clickFloor(item) {\r\n      this.floor = item.value;\r\n      this.resourceName = ''\r\n      this.taskId = ''\r\n      this.getResourceData()\r\n    },\r\n    //选中资源\r\n    clickResources(item) {\r\n      this.resourceName = item.value;\r\n      this.taskId = ''\r\n      this.getTaskData()\r\n    },\r\n    //选中进度节点\r\n    clickNode(item) {\r\n      this.taskId = item.value;\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang='stylus' scoped rel='stylesheet/stylus'>\r\n.container-cost_control\r\n  width 100%\r\n  height 100%\r\n  .van-nav-bar\r\n    height 88px\r\n    line-height 88px\r\n    border-bottom 1px solid #E5E5E5  /*no*/\r\n    .fontsize\r\n      font-size 42px\r\n      color #333\r\n      display inline-block\r\n      vertical-align middle\r\n    .screen\r\n      width 41px\r\n      height 35px\r\n  .Interlayer\r\n    height 88px\r\n  .wrapper\r\n    .cost_control_box\r\n      height 250px\r\n      padding 0 23px\r\n      background-color #fff\r\n      color #333\r\n      margin-top 12px\r\n      .cost_control_title\r\n        height 88px\r\n        padding 24px 0\r\n        box-sizing border-box\r\n        font-size 30px\r\n        .title_index\r\n          display inline-block\r\n          width 40px\r\n          height 40px\r\n          background-color #5A92FF\r\n          color #fff\r\n          border-radius 50%\r\n          text-align center\r\n          line-height 40px\r\n        .title_content\r\n          margin-left 36px\r\n        .el-icon-arrow-right\r\n          float right\r\n      .cost_control_content\r\n        padding 0 20px\r\n        .content_details\r\n          display inline-block\r\n          width 50%\r\n          line-height 50px\r\n          font-size 28px\r\n</style>\r\n<style>\r\n@import \"~@/assets/css/resetVant.css\";\r\n/* 顶部表头 */\r\n.container-cost_control .van-nav-bar .van-nav-bar__title {\r\n  font-size: 36px;\r\n}\r\n/*右上角点击筛选样式*/ \r\n.select_layer {\r\n  position: fixed;\r\n  top: 80px;\r\n  right: 14px;\r\n  width: 352px;\r\n  box-sizing: border-box;\r\n  background-color: #222832;\r\n  opacity:0.9;\r\n  border-radius:8px;\r\n  padding: 10px 20px;\r\n  z-index: 999;\r\n}\r\n.select_layer .van-hairline--top-bottom::after{\r\n  border: none;\r\n}\r\n.select_layer .van-hairline--top::after {\r\n  border-top: none;\r\n  border-bottom: 1px solid #737577;  /*no*/\r\n}\r\n.select_layer .van-collapse  {\r\n  max-height: 1109px;\r\n}\r\n.select_layer .van-collapse-item .van-collapse-item__title--expanded::after {\r\n  visibility: hidden;\r\n}\r\n.select_layer .van-collapse-item:first-child {\r\n  border-bottom: 1px solid #737577;  /*no*/\r\n}\r\n.select_layer .van-collapse-item__title {\r\n  height: 80px;\r\n  line-height: 80px;\r\n  background-color: #222832;\r\n}\r\n.select_layer .van-cell__title{\r\n  font-size: 30px;\r\n  color: #fff;\r\n  text-align: left;         \r\n}\r\n.select_layer .van-cell__right-icon {\r\n  color: transparent;\r\n}\r\n.select_layer .icon_down {\r\n  position: absolute;\r\n  top: 45px;\r\n  right: 30px;\r\n  width: 16px;\r\n  height: 11px;\r\n}\r\n.select_layer .van-collapse-item__content{\r\n  padding: 0;\r\n  background-color: #222832;\r\n  color: #fff;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  max-height: 500px;\r\n}\r\n.select_layer .van-cell {\r\n  width: 100%;\r\n  background-color: #222832;\r\n  color: #fff;\r\n}\r\n.select_layer .van-radio {   \r\n  height: 80px;\r\n  line-height: 80px;\r\n  height: 80px;\r\n  /* padding-left:20px; */\r\n  border-bottom: 1px solid #737577;  /*no*/\r\n  font-size: 28px;\r\n}\r\n.select_layer .van-radio:last-child {\r\n  border: 0;\r\n}\r\n.select_layer .van-radio .van-radio__label {\r\n  color: #fff;\r\n  vertical-align: baseline;\r\n}\r\n/* .select_layer .van-radio .van-radio__icon {\r\n  vertical-align: baseline;\r\n} */\r\n/* .select_layer .van-radio .van-radio__icon .van-icon {\r\n  border: 2px solid #fff;\r\n  width: 25px;\r\n  height: 25px;\r\n} */\r\n.select_layer .btn {\r\n  width: 100%;\r\n  height: 88px;\r\n  padding: 19px 0;\r\n  box-sizing: border-box;\r\n}\r\n.select_layer button {\r\n  width:49%;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  background-color: #222934;\r\n  color: #fff;\r\n  font-size: 30px;\r\n  text-align: center;\r\n  border: none;\r\n}\r\n.select_layer .line {\r\n  display: inline-block;\r\n  width: 0px;\r\n  height: 50px;\r\n  border-left: 2px dashed #fff;\r\n  vertical-align: top;\r\n}\r\n.select_layer:after {\r\n  position: absolute;\r\n  top: -0.379rem;\r\n  right: 0.186667rem;\r\n  content: '';\r\n  width: 0px;\r\n  height: 0px;\r\n  border: 15px solid transparent;  /*no*/\r\n  border-bottom: 15px solid #222832;  /*no*/\r\n  z-index: 9999\r\n}\r\n\r\n.my-list .van-list__loading-text, .my-list .van-list__finished-text, .my-list .van-list__error-text{\r\n    line-height: 80px\r\n}\r\n.container-cost_control .van-radio__icon, .container-cost_control .van-radio__label{\r\n  display: inline;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/index/CostControl"}]}