{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\wisdom-site\\wisdom-site.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\wisdom-site\\wisdom-site.vue","mtime":1557794425883},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Public\\\\\\u8F6F\\u4EF6\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Clock from './components/clock';\nimport { QueryMemberCurrentClockStatus, AddClock } from '@/api/api';\nexport default {\n  data: function data() {\n    return {\n      userInfo: {\n        MemberID: localStorage.getItem('userId'),\n        ProjectID: localStorage.getItem('projectid')\n      },\n      clockStatus: {\n        IsLate: 0,\n        Status: 1,\n        Time: \"08:00\",\n        Type: 1\n      }\n    };\n  },\n  components: {\n    Clock: Clock\n  },\n  created: function created() {\n    this.init();\n  },\n  mounted: function mounted() {},\n  methods: {\n    init: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.Request(QueryMemberCurrentClockStatus(this.userInfo));\n\n              case 2:\n                res = _context.sent;\n\n                if (res.StatusCode === 200) {\n                  this.clockStatus = res.Result;\n                } else {\n                  this.$message({\n                    type: \"error\",\n                    message: res.Message,\n                    center: \"true\"\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function init() {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }(),\n    addClock: function () {\n      var _addClock = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(e) {\n        var user, data, res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user = JSON.parse(localStorage.getItem('loginUserInfo')).loginUserInfo;\n                data = {\n                  listMemberClock: [{\n                    UserType: user.UserType - 0,\n                    MemberID: user.ID,\n                    ClockPerson: user.ID,\n                    SignType: e ? 3 : '',\n                    ProjectID: localStorage.getItem('projectid')\n                  }],\n                  ProjectID: localStorage.getItem('projectid')\n                };\n                _context2.next = 4;\n                return this.Request(AddClock(data));\n\n              case 4:\n                res = _context2.sent;\n\n                if (res.StatusCode === 200) {\n                  this.$message({\n                    type: \"success\",\n                    message: \"签到成功\",\n                    center: \"true\"\n                  });\n                } else {\n                  this.$message({\n                    type: \"error\",\n                    message: res.Message,\n                    center: \"true\"\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function addClock(_x) {\n        return _addClock.apply(this, arguments);\n      }\n\n      return addClock;\n    }()\n  }\n};",{"version":3,"sources":["wisdom-site.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,KAAA,MAAA,oBAAA;AACA,SAAA,6BAAA,EAAA,QAAA,QAAA,WAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CADA;AAEA,QAAA,SAAA,EAAA,YAAA,CAAA,OAAA,CAAA,WAAA;AAFA,OADA;AAKA,MAAA,WAAA,EAAA;AACA,QAAA,MAAA,EAAA,CADA;AAEA,QAAA,MAAA,EAAA,CAFA;AAGA,QAAA,IAAA,EAAA,OAHA;AAIA,QAAA,IAAA,EAAA;AAJA;AALA,KAAA;AAYA,GAdA;AAeA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAfA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,IAAA;AACA,GApBA;AAqBA,EAAA,OArBA,qBAqBA,CAAA,CArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,OAAA,CAAA,6BAAA,CAAA,KAAA,QAAA,CAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;;AAGA,oBAAA,GAAA,CAAA,UAAA,KAAA,GAAA,EAAA;AACA,uBAAA,WAAA,GAAA,GAAA,CAAA,MAAA;AACA,iBAFA,MAEA;AACA,uBAAA,QAAA,CAAA;AACA,oBAAA,IAAA,EAAA,OADA;AAEA,oBAAA,OAAA,EAAA,GAAA,CAAA,OAFA;AAGA,oBAAA,MAAA,EAAA;AAHA,mBAAA;AAKA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAaA,IAAA,QAbA;AAAA;AAAA;AAAA,gDAaA,CAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA,gBAAA,IAdA,GAcA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,eAAA,CAAA,EAAA,aAdA;AAeA,gBAAA,IAfA,GAeA;AACA,kBAAA,eAAA,EAAA,CAAA;AACA,oBAAA,QAAA,EAAA,IAAA,CAAA,QAAA,GAAA,CADA;AAEA,oBAAA,QAAA,EAAA,IAAA,CAAA,EAFA;AAGA,oBAAA,WAAA,EAAA,IAAA,CAAA,EAHA;AAIA,oBAAA,QAAA,EAAA,CAAA,GAAA,CAAA,GAAA,EAJA;AAKA,oBAAA,SAAA,EAAA,YAAA,CAAA,OAAA,CAAA,WAAA;AALA,mBAAA,CADA;AAQA,kBAAA,SAAA,EAAA,YAAA,CAAA,OAAA,CAAA,WAAA;AARA,iBAfA;AAAA;AAAA,uBAyBA,KAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAzBA;;AAAA;AAyBA,gBAAA,GAzBA;;AA0BA,oBAAA,GAAA,CAAA,UAAA,KAAA,GAAA,EAAA;AACA,uBAAA,QAAA,CAAA;AACA,oBAAA,IAAA,EAAA,SADA;AAEA,oBAAA,OAAA,EAAA,MAFA;AAGA,oBAAA,MAAA,EAAA;AAHA,mBAAA;AAKA,iBANA,MAMA;AACA,uBAAA,QAAA,CAAA;AACA,oBAAA,IAAA,EAAA,OADA;AAEA,oBAAA,OAAA,EAAA,GAAA,CAAA,OAFA;AAGA,oBAAA,MAAA,EAAA;AAHA,mBAAA;AAKA;;AAtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAtBA,CAAA","sourcesContent":["<!-- 智慧工地 -->\n<template>\n    <div class='container-wisdom-site'>\n        <div class='content-box'>\n            <div class='top'>\n                <img src=\"./imgs/icon1.png\" width=28>\n                <p>{{clockStatus.Status || clockStatus.Type === 2?\"当前已在打卡时间\":\"当前不在打卡时间\"}}</p>\n                <p>请在{{clockStatus.Time}}之前打卡</p>\n            </div>\n            <div class='clock-box'>\n                <Clock :clockStatus='clockStatus'/>\n            </div>\n            <div v-if='(clockStatus.Status && !clockStatus.IsLate) || (!clockStatus.Status && clockStatus.IsLate)'\n                 class='bottom-btn'\n                @click='addClock(1)'>\n                已请假点击此处打卡\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Clock from './components/clock'\n    import { QueryMemberCurrentClockStatus, AddClock } from '@/api/api'\n  export default {\n    data() {\n      return {\n          userInfo: {\n              MemberID:localStorage.getItem('userId'),\n              ProjectID:localStorage.getItem('projectid')\n          },\n          clockStatus: {\n              IsLate: 0,\n              Status: 1,\n              Time: \"08:00\",\n              Type: 1\n          }\n      }\n    },\n    components: {\n      Clock\n    },\n    created() {\n        this.init()\n    },\n    mounted() {},\n    methods: {\n        async init () {\n            let res = await this.Request(QueryMemberCurrentClockStatus(this.userInfo))\n            if(res.StatusCode === 200){\n                this.clockStatus = res.Result\n            } else {\n                this.$message({\n                    type: \"error\",\n                    message: res.Message,\n                    center: \"true\"\n                });\n            }\n        },\n        async addClock(e) {\n            let user = JSON.parse(localStorage.getItem('loginUserInfo')).loginUserInfo\n            let data = {\n                listMemberClock: [{\n                    UserType: user.UserType - 0,\n                    MemberID: user.ID,\n                    ClockPerson: user.ID,\n                    SignType: e ? 3 : '',\n                    ProjectID: localStorage.getItem('projectid')\n                }],\n                ProjectID: localStorage.getItem('projectid')\n            }\n            let res = await this.Request(AddClock(data))\n            if (res.StatusCode === 200) {\n                this.$message({\n                    type: \"success\",\n                    message: \"签到成功\",\n                    center: \"true\"\n                });\n            } else {\n                this.$message({\n                    type: \"error\",\n                    message: res.Message,\n                    center: \"true\"\n                });\n            }\n        }\n    }\n  }\n\n</script>\n<style lang='stylus' scoped rel='stylesheet/stylus'>\n    .container-wisdom-site\n        height 100%\n        display flex\n        flex-direction column\n        .content-box\n            flex 1\n            background white\n            box-shadow: 0px 4px 8px 0px rgba(180, 180, 180, 0.5);\n            border-radius 20px\n            margin 0 24px 230px\n            text-align center\n            position relative\n            .top\n                position absolute\n                top 164px\n                left 50%\n                transform translateX(-50%)\n                > p:nth-child(2)\n                    font-size: 34px;\n                    color: rgba(78, 79, 81, 1)\n                    margin 20px 0\n                > p:nth-child(3)\n                    font-size: 28px;\n                    color: rgba(102, 102, 102, 1);\n            .clock-box\n                position: absolute;\n                left 50%\n                top 548px\n                transform translateX(-50%)\n                width: 200px;\n                height: 200px;\n        .bottom-btn\n            position: absolute;\n            bottom 60px\n            left 50%\n            transform translateX(-50%)\n            font-size: 30px;\n            color: rgba(90, 146, 255, 1);\n</style>\n"],"sourceRoot":"src/components/wisdom-site"}]}