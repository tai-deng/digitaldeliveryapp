{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\dynamic\\dynamic_components\\appraise\\appraise.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\dynamic\\dynamic_components\\appraise\\appraise.vue","mtime":1553510277267},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Public\\\\\\u8F6F\\u4EF6\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { LikeSchedule } from '../../api/index.js'\n// import res from '../../common/mixins/res.js'\n// import { ImagePreview } from 'vant'\n// import { Message } from 'element-ui';\nexport default {\n  // mixins:[res],\n  props: [\"name\", \"content\", \"time\", 'type', 'part', 'photolist', 'iphoto', 'id', 'likelist', 'CurUserIsLiked', 'WorkArea', 'pathImages'],\n  data: function data() {\n    return {\n      avater: require('./avater.png'),\n      liked: this.CurUserIsLiked,\n      // 是否已点赞\n      imgLike: [require('./like.png'), require('./notLike.png')],\n      names: this.likelist,\n      onLookIMG: true //是否查看图片开关\n\n    };\n  },\n  methods: {\n    like: function () {\n      var _like = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(dynamicId, liked) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(dynamicId, liked); // let myName = JSON.parse(localStorage.getItem('userInfo')).loginUserInfo.cName\n                // console.log(dynamicId,liked,this.names)\n                // this.liked=this.CurUserIsLike = !liked\n                // console.log(this.liked)\n                // let data = await this.Request(LikeSchedule({dynamicId,isLiked:this.CurUserIsLike}))\n                // if(data.StatusCode==200){\n                //   if(this.liked){\n                //     Message({message:'点赞成功',type:'success'})\n                //     this.names.push({\n                //       UserName: myName\n                //     })\n                //   }else{\n                //     Message({message:'已取消',type:'success'})\n                //     let names = this.names\n                //     names.forEach((i,index) => {\n                //       console.log(i.UserName,index)\n                //       if(i.UserName==myName) {\n                //         this.names.splice(index,1)\n                //         return\n                //       }\n                //     });\n                //   }\n                // }\n                // console.log(data,this.CurUserIsLike)\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function like(_x, _x2) {\n        return _like.apply(this, arguments);\n      }\n\n      return like;\n    }(),\n    // 点击放大图片\n    getPathImg: function getPathImg(id) {\n      console.log(id); // 仅看点击的动态 的几个图片\n      // let images = []\n      // let startPosition = 0\n      // this.photolist.forEach((i,index)=>{\n      //   images.push(i.Path)\n      //   if(id==i.Path){\n      //      console.log(index)\n      //      startPosition=index\n      //   }\n      // })\n      // console.log(images)\n      // ImagePreview({\n      //     images,\n      //     startPosition,\n      //     onClose() {\n      //       // do something\n      //     }\n      //   });\n      // 查看全部加载出来的图片列表\n      //  ImagePreview({\n      //     images: this.pathImages,\n      //     startPosition: 1,\n      //     onClose() {\n      //       // do something\n      //     }\n      //   });\n    },\n\n    /***滑动限制***/\n    stop: function stop() {\n      var mo = function mo(e) {\n        e.preventDefault();\n      };\n\n      document.body.style.overflow = 'hidden';\n      document.addEventListener(\"touchmove\", mo, false); //禁止页面滑动\n    },\n\n    /***取消滑动限制***/\n    move: function move() {\n      var mo = function mo(e) {\n        e.preventDefault();\n      };\n\n      document.body.style.overflow = ''; //出现滚动条\n\n      document.removeEventListener(\"touchmove\", mo, false);\n    }\n  }\n};",{"version":3,"sources":["appraise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA,eAAA;AACA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,SAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,WAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,gBAAA,EAAA,UAAA,EAAA,YAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,OAAA,CAAA,cAAA,CADA;AAEA,MAAA,KAAA,EAAA,KAAA,cAFA;AAEA;AACA,MAAA,OAAA,EAAA,CAAA,OAAA,CAAA,YAAA,CAAA,EAAA,OAAA,CAAA,eAAA,CAAA,CAHA;AAIA,MAAA,KAAA,EAAA,KAAA,QAJA;AAKA,MAAA,SAAA,EAAA,IALA,CAKA;;AALA,KAAA;AAQA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,IADA;AAAA;AAAA;AAAA,+CACA,SADA,EACA,KADA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EAAA,KAAA,EAFA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA6BA;AACA,IAAA,UA9BA,sBA8BA,EA9BA,EA8BA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,EAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7DA;;AAgEA;AACA,IAAA,IAjEA,kBAiEA;AACA,UAAA,EAAA,GAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAAA,QAAA,CAAA,CAAA,cAAA;AAAA,OAAA;;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,GAAA,QAAA;AACA,MAAA,QAAA,CAAA,gBAAA,CAAA,WAAA,EAAA,EAAA,EAAA,KAAA,EAHA,CAGA;AACA,KArEA;;AAsEA;AACA,IAAA,IAvEA,kBAuEA;AACA,UAAA,EAAA,GAAA,SAAA,EAAA,CAAA,CAAA,EAAA;AAAA,QAAA,CAAA,CAAA,cAAA;AAAA,OAAA;;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,GAAA,EAAA,CAFA,CAEA;;AACA,MAAA,QAAA,CAAA,mBAAA,CAAA,WAAA,EAAA,EAAA,EAAA,KAAA;AACA;AA3EA;AAbA,CAAA","sourcesContent":["<template>\r\n  <!-- 建造动态 评论模块 -->\r\n  <div class=\"container-appraise\" ref=\"offHeight\">\r\n    <div class=\"appraise\">\r\n      <div class=\"left\">\r\n        <img :src=\"iphoto?'http://47.112.21.206:8004'+iphoto:avater\" alt=\"\">\r\n      </div>\r\n      <div class=\"right\">\r\n        <p class=\"name\">{{name}}&nbsp;&nbsp;\r\n          <span class=\"labels\" v-if=\"type==1\">进度类</span>\r\n          <span class=\"labels\" v-if=\"type==2\">质量类</span>\r\n          <span class=\"labels\" v-if=\"type==3\">安全类</span>\r\n          <span class=\"labels part\" v-if=\"part\">{{part}}</span>\r\n          <span class=\"labels part\" v-else>{{WorkArea}}</span>\r\n        </p>\r\n        <p class=\"content\">{{content}}\r\n          <span class=\"content-but\" v-if=\"content.length>800\">全文</span>\r\n        </p>\r\n\r\n        <div class=\"imgs\" v-if=\"photolist.length>0\">\r\n          <div class=\"imgdiv\" v-for=\"item in photolist\" :key=\"item.index\" @click=\"getPathImg(item.Path)\">\r\n            <img :src=\"item.SmallPath\">\r\n          </div>\r\n          <div class=\"imgdiv\"  style=\"height:0\"></div>\r\n          <div class=\"imgdiv\"  style=\"height:0\"></div>\r\n          <!-- <span  style=\"border:1px solid #fff;height:0\" > </span>\r\n          <span  style=\"border:1px solid #fff;height:0\"  v-if=\"photolist.length%3==1\"></span> -->\r\n        </div>\r\n\r\n        <p class=\"time-or-like\">{{time}}<img :src=\"liked?imgLike[0]:imgLike[1]\"  @click=\"like(id,liked)\"></p>\r\n        <p class=\"like-perpon\" v-if=\"names.length\"><img src=\"./like.png\">&nbsp;&nbsp; \r\n          <span v-for=\"(like,index) in names\" :key=\"like.index\">{{like.UserName}} <span v-if=\"index<likelist.length-1\">,</span> </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <!-- 图片放大 -->\r\n    <!-- <div class=\"look-img\" v-if=\"onLookIMG\">\r\n       <div class=\"big-img-box\">\r\n         <img src=\"\" alt=\"\">\r\n       </div>\r\n    </div> -->\r\n\r\n    \r\n  </div>\r\n</template>\r\n<script>\r\n// import { LikeSchedule } from '../../api/index.js'\r\n// import res from '../../common/mixins/res.js'\r\n// import { ImagePreview } from 'vant'\r\n// import { Message } from 'element-ui';\r\nexport default {\r\n  // mixins:[res],\r\n  props: [\"name\", \"content\", \"time\",'type','part','photolist','iphoto','id','likelist','CurUserIsLiked','WorkArea','pathImages'],\r\n  data() {\r\n    return {\r\n      avater: require('./avater.png'),\r\n      liked:this.CurUserIsLiked,// 是否已点赞\r\n      imgLike:[require('./like.png'),require('./notLike.png')],\r\n      names:this.likelist,\r\n      onLookIMG:true,//是否查看图片开关\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    async like(dynamicId,liked){\r\n      console.log(dynamicId,liked)\r\n      // let myName = JSON.parse(localStorage.getItem('userInfo')).loginUserInfo.cName\r\n      // console.log(dynamicId,liked,this.names)\r\n      // this.liked=this.CurUserIsLike = !liked\r\n      // console.log(this.liked)\r\n      // let data = await this.Request(LikeSchedule({dynamicId,isLiked:this.CurUserIsLike}))\r\n      // if(data.StatusCode==200){\r\n      //   if(this.liked){\r\n      //     Message({message:'点赞成功',type:'success'})\r\n      //     this.names.push({\r\n      //       UserName: myName\r\n      //     })\r\n      //   }else{\r\n      //     Message({message:'已取消',type:'success'})\r\n      //     let names = this.names\r\n      //     names.forEach((i,index) => {\r\n      //       console.log(i.UserName,index)\r\n      //       if(i.UserName==myName) {\r\n      //         this.names.splice(index,1)\r\n      //         return\r\n      //       }\r\n      //     });\r\n      //   }\r\n        \r\n      // }\r\n      // console.log(data,this.CurUserIsLike)\r\n    },\r\n    // 点击放大图片\r\n    getPathImg(id){\r\n      console.log(id)\r\n      // 仅看点击的动态 的几个图片\r\n      // let images = []\r\n      // let startPosition = 0\r\n      // this.photolist.forEach((i,index)=>{\r\n      //   images.push(i.Path)\r\n      //   if(id==i.Path){\r\n      //      console.log(index)\r\n      //      startPosition=index\r\n      //   }\r\n      // })\r\n      // console.log(images)\r\n      \r\n      // ImagePreview({\r\n      //     images,\r\n      //     startPosition,\r\n      //     onClose() {\r\n      //       // do something\r\n      //     }\r\n      //   });\r\n\r\n\r\n      // 查看全部加载出来的图片列表\r\n      //  ImagePreview({\r\n      //     images: this.pathImages,\r\n      //     startPosition: 1,\r\n      //     onClose() {\r\n      //       // do something\r\n      //     }\r\n      //   });\r\n    },\r\n\r\n\r\n  /***滑动限制***/\r\n  stop(){\r\n    var mo=function(e){e.preventDefault();};\r\n    document.body.style.overflow='hidden';\r\n    document.addEventListener(\"touchmove\",mo,false);//禁止页面滑动\r\n  },\r\n  /***取消滑动限制***/\r\n  move(){\r\n    var mo=function(e){e.preventDefault();};\r\n    document.body.style.overflow='';//出现滚动条\r\n    document.removeEventListener(\"touchmove\",mo,false);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.container-appraise\r\n  width 100%\r\n  margin-bottom 20px\r\n  .appraise\r\n    display flex\r\n    margin 0 auto\r\n    padding 20px 0\r\n    width 690px\r\n    background-color white\r\n    .left\r\n      width 80px\r\n      margin-right 20px\r\n      img\r\n        width 80px\r\n        height 80px\r\n        border-radius 50%\r\n    .right\r\n      flex 1\r\n      .name\r\n        color #333333\r\n        font-size 30px\r\n        margin 15px 0\r\n        .labels\r\n          display inline-block\r\n          padding 4px 20px\r\n          background-color #2577E3\r\n          color white\r\n          font-size 22px\r\n          margin 0 8px\r\n          border-radius 10px\r\n        .part\r\n          padding 6px 20px\r\n          margin-top 20px\r\n      .content\r\n        color #333333\r\n        font-size 28px\r\n        padding-bottom 20px\r\n        .content-but\r\n          float right\r\n          color #999999\r\n      .imgs\r\n        display flex\r\n        justify-content space-around\r\n        flex-wrap wrap\r\n        width 100%\r\n        margin 10px 0 30px 0\r\n        border none\r\n        .imgdiv \r\n          width 190px\r\n          height 190px\r\n          margin-bottom 8px\r\n          overflow hidden\r\n          img  \r\n            display block\r\n            width 150%\r\n            height auto\r\n      .time-or-like\r\n        color #999999\r\n        font-size 26px\r\n        img \r\n          width 34px\r\n          height 34px\r\n          float right\r\n          border none\r\n      .like-perpon\r\n        width 100%\r\n        padding 30px 18px\r\n        background-color #f1f5f8\r\n        vertical-align middle\r\n        margin-top 14px\r\n        img \r\n          display inline-block\r\n          width 30px\r\n          height 30px\r\n          vertical-align: middle\r\n          border-radius 10px\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/dynamic/dynamic_components/appraise"}]}