{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\index\\my-message\\messageCentre.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\index\\my-message\\messageCentre.vue","mtime":1557902942828},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["import _toConsumableArray from \"C:\\\\Users\\\\Public\\\\\\u8F6F\\u4EF6\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//混入\nimport interfaces from \"../modules/interfaces.js\";\nimport { QueryNoticeList } from '@/api/api.js';\nexport default {\n  mixins: [interfaces],\n  data: function data() {\n    return {\n      list: [],\n      //公告列表\n      loading: false,\n      //加载中\n      finished: false,\n      //是否加载到了最后\n      rows: 10,\n      //第次加载条数\n      page: 1 //第几页\n\n    };\n  },\n  created: function created() {\n    this._initData();\n  },\n  methods: {\n    _initData: function _initData() {\n      this.loadNotices();\n    },\n    loadNotices: function loadNotices() {\n      var _this = this;\n\n      var params = {\n        UserId: Number(localStorage.getItem(\"userId\")),\n        ProjectId: localStorage.getItem(\"projectid\"),\n        page: this.page,\n        rows: this.rows\n      };\n      this.loading = true;\n      this.queryNoticeList(params).then(function (res) {\n        var _this$list;\n\n        (_this$list = _this.list).push.apply(_this$list, _toConsumableArray(res.Detiel));\n\n        console.log(_this.list); // 加载状态结束\n\n        _this.loading = false; // 数据全部加载完成\n\n        if (_this.list.length >= res.Count) {\n          _this.loading = false;\n          _this.finished = true;\n        }\n      });\n    },\n    onLoadMore: function onLoadMore() {\n      this.page++;\n      this.loadNotices();\n    },\n    onClickLeft: function onClickLeft() {\n      this.$router.push({\n        path: '/nav/to/index'\n      });\n    }\n  }\n};",{"version":3,"sources":["messageCentre.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA;AACA,OAAA,UAAA,MAAA,0BAAA;AAEA,SAAA,eAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,UAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AACA;AACA,MAAA,OAAA,EAAA,KAFA;AAEA;AACA,MAAA,QAAA,EAAA,KAHA;AAGA;AACA,MAAA,IAAA,EAAA,EAJA;AAIA;AACA,MAAA,IAAA,EAAA,CALA,CAKA;;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,SAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,WAAA;AACA,KAHA;AAIA,IAAA,WAJA,yBAIA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CADA;AAEA,QAAA,SAAA,EAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAFA;AAGA,QAAA,IAAA,EAAA,KAAA,IAHA;AAIA,QAAA,IAAA,EAAA,KAAA;AAJA,OAAA;AAMA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,eAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AAAA;;AACA,sBAAA,KAAA,CAAA,IAAA,EAAA,IAAA,sCAAA,GAAA,CAAA,MAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,EAFA,CAGA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAJA,CAKA;;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,MAAA,IAAA,GAAA,CAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,OAVA;AAWA,KAvBA;AAwBA,IAAA,UAxBA,wBAwBA;AACA,WAAA,IAAA;AACA,WAAA,WAAA;AACA,KA3BA;AA4BA,IAAA,WA5BA,yBA4BA;AAAA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AAAA;AA5BA;AAdA,CAAA","sourcesContent":["<!-- 消息中心 -->\r\n<template>\r\n  <div class=\"container-message-centre\">\r\n    <div class=\"vheader\">\r\n      <van-nav-bar\r\n        title=\"消息中心\"\r\n        left-arrow\r\n        @click-left=\"onClickLeft\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper\">\r\n      <div class=\"hold\"></div>\r\n      <!-- @load=\"onLoadMore\" -->\r\n      <van-list v-model=\"loading\" :offset=\"30\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoadMore\">\r\n        <van-cell v-for=\"item in list\" :key=\"item.index\"><span class=\"message\">{{item.Message}}</span><p class=\"time\">{{item.Time}}</p></van-cell>\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type='textecmascript-6'>\r\n//混入\r\nimport interfaces from \"../modules/interfaces.js\"\r\n\r\nimport {QueryNoticeList} from '@/api/api.js'\r\nexport default {\r\n  mixins: [interfaces],\r\n  data() {\r\n    return {\r\n      list: [],//公告列表\r\n      loading: false,//加载中\r\n      finished: false,//是否加载到了最后\r\n      rows:10,//第次加载条数\r\n      page:1,//第几页\r\n    };\r\n  },\r\n  created(){\r\n    this._initData()\r\n  },\r\n  methods: {\r\n    _initData() {\r\n      this.loadNotices()\r\n    },\r\n    loadNotices(){\r\n      let params = {\r\n        UserId: Number(localStorage.getItem(\"userId\")),\r\n        ProjectId: localStorage.getItem(\"projectid\"),\r\n        page: this.page,\r\n        rows: this.rows\r\n      };\r\n      this.loading = true;\r\n      this.queryNoticeList(params).then(res=>{\r\n        this.list.push(...res.Detiel)\r\n        console.log(this.list)\r\n      // 加载状态结束\r\n        this.loading = false;\r\n        // 数据全部加载完成\r\n        if (this.list.length >= res.Count) {\r\n          this.loading = false;\r\n          this.finished = true;\r\n        }\r\n      })\r\n    },\r\n    onLoadMore(){\r\n      this.page++\r\n      this.loadNotices()\r\n    },\r\n    onClickLeft(){this.$router.push({path:'/nav/to/index'})}\r\n  }\r\n};\r\n</script>\r\n<style lang='stylus' scoped rel='stylesheet/stylus'>\r\n.container-message-centre\r\n  width 100%\r\n  height 100%\r\n  .vheader\r\n    width: 100%;\r\n    height 88px\r\n  .wrapper\r\n    width 100%\r\n    // height 200px\r\n    overflow auto\r\n    // height 100%\r\n    // .hold\r\n    //   height 88px\r\n    //   width 100%\r\n    .message\r\n      display block\r\n      line-height 40px\r\n      margin-top 10px\r\n    .time\r\n      font-size 24px\r\n      color #666\r\n      // text-align right\r\n</style>\r\n<style>\r\n.container-message-centre .van-nav-bar{\r\n  height: 88px;\r\n}\r\n.container-message-centre .van-nav-bar__title{\r\n      height: 88px;\r\n    line-height: 88px;\r\n    font-size:36px;\r\nfont-family:PingFang-SC-Medium;\r\nfont-weight:bold;\r\ncolor:rgba(51,51,51,1);\r\n}\r\n.container-message-centre .van-nav-bar .van-icon{\r\n  font-size: 44px;\r\n  color: #333333;\r\n  vertical-align:initial;\r\n  padding: 20px 40px 20px 0\r\n}\r\n.container-message-centre .van-nav-bar .van-nav-bar__title {\r\n  font-size: 36px;\r\n}\r\n.container-message-centre  .van-cell{\r\n  font-size: 28px;\r\n  line-height: 60px;\r\n  border-bottom: 1px solid rgba(0,0,0,.1)\r\n}\r\n.container-message-centre .wrapper{\r\n  height: calc(100% - 88px);\r\n}\r\n</style>"],"sourceRoot":"src/components/index/my-message"}]}