{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\login\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\login\\login.vue","mtime":1558055582235},{"path":"C:\\Users\\Public\\软件\\app\\.babelrc","mtime":1553246877633},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["import _JSON$stringify from \"C:\\\\Users\\\\Public\\\\\\u8F6F\\u4EF6\\\\app\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Login, GetLoginUserInfo } from '@/api/api.js'; // import { constants } from 'crypto';\n\nexport default {\n  data: function data() {\n    return {\n      username: '',\n      password: '',\n      isEye: false,\n      //是否显示密码\n      eyeIcons: [require('./imgs/noeye.png'), require('./imgs/eye.png')] //眼睛图标\n\n    };\n  },\n  created: function created() {\n    this._initData();\n  },\n  methods: {\n    _initData: function _initData() {\n      // TODO // 假数据，项目ID\n      localStorage.setItem('projectid', '12345678');\n    },\n\n    /**\n     * 隐藏显示密码事件\n     */\n    onEye: function onEye() {\n      this.isEye = !this.isEye;\n      console.log('是否显示密码');\n    },\n\n    /**登录 */\n    onLogin: function onLogin() {\n      var _this = this;\n\n      if (this.username && this.password) {\n        this.Request(Login({\n          LoginName: this.username,\n          LoginPwd: this.password\n        })).then(function (res) {\n          console.log(res);\n\n          if (res.StatusCode === 200) {\n            console.log(res.Detiel[0]);\n            localStorage.setItem('token', res.Detiel[0].access_token);\n            localStorage.setItem('bimface_token', res.Detiel[0].bimface_token);\n            localStorage.setItem(\"userId\", res.Message); //获取当前登录用户信息详情\n\n            _this.Request(GetLoginUserInfo({\n              curUserId: Number(res.Message)\n            })).then(function (info) {\n              console.log(info);\n\n              if (info.StatusCode === 200) {\n                localStorage.setItem('token', res.Detiel[0].access_token);\n                localStorage.setItem('bimface_token', res.Detiel[0].bimface_token);\n                localStorage.setItem(\"userId\", res.Message);\n                localStorage.setItem(\"loginUserInfo\", _JSON$stringify(info.Detiel[0]));\n\n                _this.$router.push({\n                  path: '/nav/to/index'\n                });\n\n                _this.$message({\n                  type: 'success',\n                  message: '欢迎，登陆成功！',\n                  center: 'true'\n                });\n              } else {\n                _this.$message({\n                  type: 'error',\n                  message: '获取用户信息失败',\n                  center: 'true'\n                });\n              }\n            });\n          } else {\n            _this.$message({\n              type: 'error',\n              message: res.Message,\n              center: 'true'\n            });\n          }\n        });\n        console.log(this.username, this.password);\n      } else {\n        this.$message({\n          type: 'error',\n          message: '帐号或密码不能为空',\n          center: 'true'\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- login登录 -->\n<template>\n <div class='container-login'>\n <div class='wrapper'>\n   <!-- logo和项目名 -->\n   <div class=\"logo\">\n     <p><img class=\"logo-img\" src=\"./imgs/logo.png\" alt></p>\n     <p class=\"project-name\">工程项目PM协同管理平台</p>\n   </div>\n\n   <div class=\"user-input\">\n      <p class=\"user\"><van-field v-model=\"username\" placeholder=\"请输入用户名\" /></p>\n      <p class=\"user\"><van-field v-model=\"password\" :type=\"isEye?'':'password'\" placeholder=\"请输入用户密码\"/>\n        <span><img  @click=\"onEye\" :src=\"isEye?eyeIcons[1]:eyeIcons[0]\" alt=\"\"></span>\n      </p>\n   </div>\n\n   <div class=\"sub-but\">\n     <el-button type=\"primary\" class=\"sub\" @click=\"onLogin\" round>登陆</el-button>\n   </div>\n </div>\n </div>\n</template>\n\n<script type='textecmascript-6'>\nimport {Login,GetLoginUserInfo} from '@/api/api.js'\n// import { constants } from 'crypto';\nexport default {\n data() {\n   return {\n     username:'',\n     password:'',\n     isEye:false,//是否显示密码\n     eyeIcons: [require('./imgs/noeye.png'),require('./imgs/eye.png')],//眼睛图标\n   }\n },\n created(){\n   this._initData()\n },\n methods:{\n   _initData(){\n     // TODO // 假数据，项目ID\n     localStorage.setItem('projectid','12345678') \n   },\n   /**\n    * 隐藏显示密码事件\n    */\n   onEye(){\n     this.isEye = !this.isEye\n     console.log('是否显示密码')\n   },\n   /**登录 */\n   onLogin(){\n     if(this.username&&this.password){\n       this.Request(Login({LoginName:this.username,LoginPwd:this.password})).then(res=>{\n         console.log(res)\n         if(res.StatusCode===200){\n           console.log(res.Detiel[0])\n           localStorage.setItem('token',res.Detiel[0].access_token)\n           localStorage.setItem('bimface_token',res.Detiel[0].bimface_token)\n           localStorage.setItem(\"userId\", res.Message);\n           //获取当前登录用户信息详情\n           this.Request(GetLoginUserInfo({curUserId:Number(res.Message)})).then(info=>{\n             console.log(info)\n             if(info.StatusCode===200){\n               localStorage.setItem('token',res.Detiel[0].access_token)\n                localStorage.setItem('bimface_token',res.Detiel[0].bimface_token)\n                localStorage.setItem(\"userId\", res.Message);\n                localStorage.setItem(\"loginUserInfo\",JSON.stringify(info.Detiel[0]) );\n               this.$router.push({path:'/nav/to/index'})\n               this.$message({type:'success',message:'欢迎，登陆成功！',center:'true'})\n             }else{\n               this.$message({type:'error',message:'获取用户信息失败',center:'true'})\n             }\n           })\n          \n         }else{\n          this.$message({type:'error',message:res.Message,center:'true'})\n         }\n       })\n       console.log(this.username,this.password) \n     }else{\n       this.$message({type:'error',message:'帐号或密码不能为空',center:'true'})\n     }\n   }\n }\n\n}\n\n</script>\n<style lang='stylus' scoped rel='stylesheet/stylus'>\n.container-login\n  width 100%\n  height 100%\n  background-image url('./imgs/bg.png')\n  background-repeat no-repeat\n  background-size 100% 100%\n  box-sizing border-box\n  .wrapper\n    width 610px\n    height 100%\n    margin 0 auto\n    .logo\n      text-align center\n      .logo-img\n        display inline-block\n        width:108px;\n        height:134px;\n        margin 0 auto\n        margin-top 116px\n      .project-name\n        font-size:30px;\n        font-family:SourceHanSansCN-Medium;\n        font-weight:500;\n        color:rgba(51,51,51,1);\n        line-height 30px\n        margin-top 30px\n    .user-input\n      margin-top 140px\n      .user\n        position relative\n        width 100%\n        border-bottom 1px solid rgba(230,230,230,1)\n        margin-top 90px\n        span \n          img \n            position absolute\n            right 0\n            top 0\n            width 36px\n            height 26px\n            padding: 15px;\n          \n    .sub-but\n      padding-top 98px\n      .sub\n        width 100%\n        height 94px\n</style>\n<style >\n.van-cell{\n  background-color: rgba(0,0,0,0)\n}\n.van-field__control{\n  font-size:30px;\n  font-family:SourceHanSansCN-Regular;\n  font-weight:bold;\n  color:rgba(153,153,153,1);\n}\n.el-button--primary{\n  font-size:36px;\n  font-family:SourceHanSansCN-Regular;\n  font-weight:bold;\n  color:rgba(255,255,255,1);\n}\n.el-button.is-round{\n  border-radius:47px;\n  background:rgba(90,147,255,1);\n}\n</style>\n"],"sourceRoot":"src/components/login"}]}