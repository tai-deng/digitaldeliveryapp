{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\dynamic\\dynamic_components\\appraise\\appraise.vue?vue&type=style&index=0&id=12702894&lang=stylus&scoped=true&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\dynamic\\dynamic_components\\appraise\\appraise.vue","mtime":1553510277267},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\css-loader\\index.js","mtime":1552270042900},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1552270044128},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\postcss-loader\\src\\index.js","mtime":1552270043529},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\stylus-loader\\index.js","mtime":1552270053417},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.container-appraise\r\n  width 100%\r\n  margin-bottom 20px\r\n  .appraise\r\n    display flex\r\n    margin 0 auto\r\n    padding 20px 0\r\n    width 690px\r\n    background-color white\r\n    .left\r\n      width 80px\r\n      margin-right 20px\r\n      img\r\n        width 80px\r\n        height 80px\r\n        border-radius 50%\r\n    .right\r\n      flex 1\r\n      .name\r\n        color #333333\r\n        font-size 30px\r\n        margin 15px 0\r\n        .labels\r\n          display inline-block\r\n          padding 4px 20px\r\n          background-color #2577E3\r\n          color white\r\n          font-size 22px\r\n          margin 0 8px\r\n          border-radius 10px\r\n        .part\r\n          padding 6px 20px\r\n          margin-top 20px\r\n      .content\r\n        color #333333\r\n        font-size 28px\r\n        padding-bottom 20px\r\n        .content-but\r\n          float right\r\n          color #999999\r\n      .imgs\r\n        display flex\r\n        justify-content space-around\r\n        flex-wrap wrap\r\n        width 100%\r\n        margin 10px 0 30px 0\r\n        border none\r\n        .imgdiv \r\n          width 190px\r\n          height 190px\r\n          margin-bottom 8px\r\n          overflow hidden\r\n          img  \r\n            display block\r\n            width 150%\r\n            height auto\r\n      .time-or-like\r\n        color #999999\r\n        font-size 26px\r\n        img \r\n          width 34px\r\n          height 34px\r\n          float right\r\n          border none\r\n      .like-perpon\r\n        width 100%\r\n        padding 30px 18px\r\n        background-color #f1f5f8\r\n        vertical-align middle\r\n        margin-top 14px\r\n        img \r\n          display inline-block\r\n          width 30px\r\n          height 30px\r\n          vertical-align: middle\r\n          border-radius 10px\r\n\r\n",{"version":3,"sources":["appraise.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"appraise.vue","sourceRoot":"src/components/dynamic/dynamic_components/appraise","sourcesContent":["<template>\r\n  <!-- 建造动态 评论模块 -->\r\n  <div class=\"container-appraise\" ref=\"offHeight\">\r\n    <div class=\"appraise\">\r\n      <div class=\"left\">\r\n        <img :src=\"iphoto?'http://47.112.21.206:8004'+iphoto:avater\" alt=\"\">\r\n      </div>\r\n      <div class=\"right\">\r\n        <p class=\"name\">{{name}}&nbsp;&nbsp;\r\n          <span class=\"labels\" v-if=\"type==1\">进度类</span>\r\n          <span class=\"labels\" v-if=\"type==2\">质量类</span>\r\n          <span class=\"labels\" v-if=\"type==3\">安全类</span>\r\n          <span class=\"labels part\" v-if=\"part\">{{part}}</span>\r\n          <span class=\"labels part\" v-else>{{WorkArea}}</span>\r\n        </p>\r\n        <p class=\"content\">{{content}}\r\n          <span class=\"content-but\" v-if=\"content.length>800\">全文</span>\r\n        </p>\r\n\r\n        <div class=\"imgs\" v-if=\"photolist.length>0\">\r\n          <div class=\"imgdiv\" v-for=\"item in photolist\" :key=\"item.index\" @click=\"getPathImg(item.Path)\">\r\n            <img :src=\"item.SmallPath\">\r\n          </div>\r\n          <div class=\"imgdiv\"  style=\"height:0\"></div>\r\n          <div class=\"imgdiv\"  style=\"height:0\"></div>\r\n          <!-- <span  style=\"border:1px solid #fff;height:0\" > </span>\r\n          <span  style=\"border:1px solid #fff;height:0\"  v-if=\"photolist.length%3==1\"></span> -->\r\n        </div>\r\n\r\n        <p class=\"time-or-like\">{{time}}<img :src=\"liked?imgLike[0]:imgLike[1]\"  @click=\"like(id,liked)\"></p>\r\n        <p class=\"like-perpon\" v-if=\"names.length\"><img src=\"./like.png\">&nbsp;&nbsp; \r\n          <span v-for=\"(like,index) in names\" :key=\"like.index\">{{like.UserName}} <span v-if=\"index<likelist.length-1\">,</span> </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    <!-- 图片放大 -->\r\n    <!-- <div class=\"look-img\" v-if=\"onLookIMG\">\r\n       <div class=\"big-img-box\">\r\n         <img src=\"\" alt=\"\">\r\n       </div>\r\n    </div> -->\r\n\r\n    \r\n  </div>\r\n</template>\r\n<script>\r\n// import { LikeSchedule } from '../../api/index.js'\r\n// import res from '../../common/mixins/res.js'\r\n// import { ImagePreview } from 'vant'\r\n// import { Message } from 'element-ui';\r\nexport default {\r\n  // mixins:[res],\r\n  props: [\"name\", \"content\", \"time\",'type','part','photolist','iphoto','id','likelist','CurUserIsLiked','WorkArea','pathImages'],\r\n  data() {\r\n    return {\r\n      avater: require('./avater.png'),\r\n      liked:this.CurUserIsLiked,// 是否已点赞\r\n      imgLike:[require('./like.png'),require('./notLike.png')],\r\n      names:this.likelist,\r\n      onLookIMG:true,//是否查看图片开关\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    async like(dynamicId,liked){\r\n      console.log(dynamicId,liked)\r\n      // let myName = JSON.parse(localStorage.getItem('userInfo')).loginUserInfo.cName\r\n      // console.log(dynamicId,liked,this.names)\r\n      // this.liked=this.CurUserIsLike = !liked\r\n      // console.log(this.liked)\r\n      // let data = await this.Request(LikeSchedule({dynamicId,isLiked:this.CurUserIsLike}))\r\n      // if(data.StatusCode==200){\r\n      //   if(this.liked){\r\n      //     Message({message:'点赞成功',type:'success'})\r\n      //     this.names.push({\r\n      //       UserName: myName\r\n      //     })\r\n      //   }else{\r\n      //     Message({message:'已取消',type:'success'})\r\n      //     let names = this.names\r\n      //     names.forEach((i,index) => {\r\n      //       console.log(i.UserName,index)\r\n      //       if(i.UserName==myName) {\r\n      //         this.names.splice(index,1)\r\n      //         return\r\n      //       }\r\n      //     });\r\n      //   }\r\n        \r\n      // }\r\n      // console.log(data,this.CurUserIsLike)\r\n    },\r\n    // 点击放大图片\r\n    getPathImg(id){\r\n      console.log(id)\r\n      // 仅看点击的动态 的几个图片\r\n      // let images = []\r\n      // let startPosition = 0\r\n      // this.photolist.forEach((i,index)=>{\r\n      //   images.push(i.Path)\r\n      //   if(id==i.Path){\r\n      //      console.log(index)\r\n      //      startPosition=index\r\n      //   }\r\n      // })\r\n      // console.log(images)\r\n      \r\n      // ImagePreview({\r\n      //     images,\r\n      //     startPosition,\r\n      //     onClose() {\r\n      //       // do something\r\n      //     }\r\n      //   });\r\n\r\n\r\n      // 查看全部加载出来的图片列表\r\n      //  ImagePreview({\r\n      //     images: this.pathImages,\r\n      //     startPosition: 1,\r\n      //     onClose() {\r\n      //       // do something\r\n      //     }\r\n      //   });\r\n    },\r\n\r\n\r\n  /***滑动限制***/\r\n  stop(){\r\n    var mo=function(e){e.preventDefault();};\r\n    document.body.style.overflow='hidden';\r\n    document.addEventListener(\"touchmove\",mo,false);//禁止页面滑动\r\n  },\r\n  /***取消滑动限制***/\r\n  move(){\r\n    var mo=function(e){e.preventDefault();};\r\n    document.body.style.overflow='';//出现滚动条\r\n    document.removeEventListener(\"touchmove\",mo,false);\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n  }\r\n};\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n.container-appraise\r\n  width 100%\r\n  margin-bottom 20px\r\n  .appraise\r\n    display flex\r\n    margin 0 auto\r\n    padding 20px 0\r\n    width 690px\r\n    background-color white\r\n    .left\r\n      width 80px\r\n      margin-right 20px\r\n      img\r\n        width 80px\r\n        height 80px\r\n        border-radius 50%\r\n    .right\r\n      flex 1\r\n      .name\r\n        color #333333\r\n        font-size 30px\r\n        margin 15px 0\r\n        .labels\r\n          display inline-block\r\n          padding 4px 20px\r\n          background-color #2577E3\r\n          color white\r\n          font-size 22px\r\n          margin 0 8px\r\n          border-radius 10px\r\n        .part\r\n          padding 6px 20px\r\n          margin-top 20px\r\n      .content\r\n        color #333333\r\n        font-size 28px\r\n        padding-bottom 20px\r\n        .content-but\r\n          float right\r\n          color #999999\r\n      .imgs\r\n        display flex\r\n        justify-content space-around\r\n        flex-wrap wrap\r\n        width 100%\r\n        margin 10px 0 30px 0\r\n        border none\r\n        .imgdiv \r\n          width 190px\r\n          height 190px\r\n          margin-bottom 8px\r\n          overflow hidden\r\n          img  \r\n            display block\r\n            width 150%\r\n            height auto\r\n      .time-or-like\r\n        color #999999\r\n        font-size 26px\r\n        img \r\n          width 34px\r\n          height 34px\r\n          float right\r\n          border none\r\n      .like-perpon\r\n        width 100%\r\n        padding 30px 18px\r\n        background-color #f1f5f8\r\n        vertical-align middle\r\n        margin-top 14px\r\n        img \r\n          display inline-block\r\n          width 30px\r\n          height 30px\r\n          vertical-align: middle\r\n          border-radius 10px\r\n\r\n</style>\r\n"]}]}