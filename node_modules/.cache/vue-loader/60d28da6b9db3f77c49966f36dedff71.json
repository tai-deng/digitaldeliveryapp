{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\wisdom-site\\wisdom-site.vue?vue&type=style&index=0&id=2200ae37&lang=stylus&scoped=true&rel=stylesheet%2Fstylus&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\wisdom-site\\wisdom-site.vue","mtime":1557794425883},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\css-loader\\index.js","mtime":1552270042900},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1552270044128},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\postcss-loader\\src\\index.js","mtime":1552270043529},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\stylus-loader\\index.js","mtime":1552270053417},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.container-wisdom-site\n    height 100%\n    display flex\n    flex-direction column\n    .content-box\n        flex 1\n        background white\n        box-shadow: 0px 4px 8px 0px rgba(180, 180, 180, 0.5);\n        border-radius 20px\n        margin 0 24px 230px\n        text-align center\n        position relative\n        .top\n            position absolute\n            top 164px\n            left 50%\n            transform translateX(-50%)\n            > p:nth-child(2)\n                font-size: 34px;\n                color: rgba(78, 79, 81, 1)\n                margin 20px 0\n            > p:nth-child(3)\n                font-size: 28px;\n                color: rgba(102, 102, 102, 1);\n        .clock-box\n            position: absolute;\n            left 50%\n            top 548px\n            transform translateX(-50%)\n            width: 200px;\n            height: 200px;\n    .bottom-btn\n        position: absolute;\n        bottom 60px\n        left 50%\n        transform translateX(-50%)\n        font-size: 30px;\n        color: rgba(90, 146, 255, 1);\n",{"version":3,"sources":["wisdom-site.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wisdom-site.vue","sourceRoot":"src/components/wisdom-site","sourcesContent":["<!-- 智慧工地 -->\n<template>\n    <div class='container-wisdom-site'>\n        <div class='content-box'>\n            <div class='top'>\n                <img src=\"./imgs/icon1.png\" width=28>\n                <p>{{clockStatus.Status || clockStatus.Type === 2?\"当前已在打卡时间\":\"当前不在打卡时间\"}}</p>\n                <p>请在{{clockStatus.Time}}之前打卡</p>\n            </div>\n            <div class='clock-box'>\n                <Clock :clockStatus='clockStatus'/>\n            </div>\n            <div v-if='(clockStatus.Status && !clockStatus.IsLate) || (!clockStatus.Status && clockStatus.IsLate)'\n                 class='bottom-btn'\n                @click='addClock(1)'>\n                已请假点击此处打卡\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Clock from './components/clock'\n    import { QueryMemberCurrentClockStatus, AddClock } from '@/api/api'\n  export default {\n    data() {\n      return {\n          userInfo: {\n              MemberID:localStorage.getItem('userId'),\n              ProjectID:localStorage.getItem('projectid')\n          },\n          clockStatus: {\n              IsLate: 0,\n              Status: 1,\n              Time: \"08:00\",\n              Type: 1\n          }\n      }\n    },\n    components: {\n      Clock\n    },\n    created() {\n        this.init()\n    },\n    mounted() {},\n    methods: {\n        async init () {\n            let res = await this.Request(QueryMemberCurrentClockStatus(this.userInfo))\n            if(res.StatusCode === 200){\n                this.clockStatus = res.Result\n            } else {\n                this.$message({\n                    type: \"error\",\n                    message: res.Message,\n                    center: \"true\"\n                });\n            }\n        },\n        async addClock(e) {\n            let user = JSON.parse(localStorage.getItem('loginUserInfo')).loginUserInfo\n            let data = {\n                listMemberClock: [{\n                    UserType: user.UserType - 0,\n                    MemberID: user.ID,\n                    ClockPerson: user.ID,\n                    SignType: e ? 3 : '',\n                    ProjectID: localStorage.getItem('projectid')\n                }],\n                ProjectID: localStorage.getItem('projectid')\n            }\n            let res = await this.Request(AddClock(data))\n            if (res.StatusCode === 200) {\n                this.$message({\n                    type: \"success\",\n                    message: \"签到成功\",\n                    center: \"true\"\n                });\n            } else {\n                this.$message({\n                    type: \"error\",\n                    message: res.Message,\n                    center: \"true\"\n                });\n            }\n        }\n    }\n  }\n\n</script>\n<style lang='stylus' scoped rel='stylesheet/stylus'>\n    .container-wisdom-site\n        height 100%\n        display flex\n        flex-direction column\n        .content-box\n            flex 1\n            background white\n            box-shadow: 0px 4px 8px 0px rgba(180, 180, 180, 0.5);\n            border-radius 20px\n            margin 0 24px 230px\n            text-align center\n            position relative\n            .top\n                position absolute\n                top 164px\n                left 50%\n                transform translateX(-50%)\n                > p:nth-child(2)\n                    font-size: 34px;\n                    color: rgba(78, 79, 81, 1)\n                    margin 20px 0\n                > p:nth-child(3)\n                    font-size: 28px;\n                    color: rgba(102, 102, 102, 1);\n            .clock-box\n                position: absolute;\n                left 50%\n                top 548px\n                transform translateX(-50%)\n                width: 200px;\n                height: 200px;\n        .bottom-btn\n            position: absolute;\n            bottom 60px\n            left 50%\n            transform translateX(-50%)\n            font-size: 30px;\n            color: rgba(90, 146, 255, 1);\n</style>\n"]}]}