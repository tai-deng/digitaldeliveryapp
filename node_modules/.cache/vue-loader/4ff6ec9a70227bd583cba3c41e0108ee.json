{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\user\\addressList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\user\\addressList.vue","mtime":1557831455447},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1552270024016},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {GetPositionConfig} from '@/api/api.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      isShow: false,\r\n      \r\n      \r\n      pageDada:[],//公司人员的集合\r\n      text:'',//跳转时候获取标题bar\r\n      item:{},//跳转时候获取改公司的集合信息\r\n      arr:[],//跳转时候获取这一类公司的数组\r\n\r\n    };\r\n  },\r\n  created(){\r\n    this.text=this.$route.query.text+'通讯录';\r\n    this.item=this.$route.query.item;\r\n    this.arr=this.$route.query.arr;\r\n    this.onSelItem(this.item)\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.back(-1);\r\n    },\r\n    onClickRight() {\r\n      this.isShow = !this.isShow;\r\n    },\r\n    //根据公司id查询公司人员信息\r\n    onSelItem(item) {\r\n      console.log(item);\r\n      this.item=item;\r\n      this.isShow = false;\r\n      // id=id==''?'0':id;//没有id的时候传0\r\n      var text=localStorage.getItem('projectid');\r\n\r\n      this.Request(GetPositionConfig({projectId:text,OrgId:item.ID})).then(res=>{\r\n        if(res.StatusCode=='200'){\r\n          // this.pageDada\r\n          console.log(res);\r\n          this.pageDada=[];\r\n          if( res.Message=='暂无数据'){\r\n            this.$dialog.alert({message:'该公司没有人员信息'});\r\n          }else{\r\n            for(var i=0;i<res.Detiel[0].DeptList.length;i++){\r\n              for(var x=0;x<res.Detiel[0].DeptList[i].UserRoleList.length;x++){\r\n                this.pageDada.push(res.Detiel[0].DeptList[i].UserRoleList[x])\r\n              }\r\n            }\r\n          }\r\n          \r\n        }else{\r\n          this.$dialog.alert({message:res.Message});\r\n        }\r\n      })\r\n    },\r\n    //拨打手机号码\r\n    callPhone(phone){\r\n      if(phone==''){\r\n        this.$dialog.alert({message:'拨打的手机号码为空'});\r\n        return false;\r\n      }\r\n      window.location.href = 'tel://'+phone\r\n    },\r\n  }\r\n};\r\n",{"version":3,"sources":["addressList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addressList.vue","sourceRoot":"src/components/user","sourcesContent":["<!-- 施工单位通讯录 addressList -->\r\n<template>\r\n  <div class=\"container-addressList\">\r\n    <van-nav-bar\r\n      :title=\"text\"\r\n      left-arrow\r\n      border\r\n      @click-left=\"onClickLeft\"\r\n      @click-right=\"onClickRight\"\r\n    >\r\n      <div class=\"nav-r flex-row\" slot=\"right\">\r\n        <img src=\"./user_assets/imgs/screen.png\">\r\n        <div class=\"nav-r-sel\" v-if=\"isShow\">\r\n          <div\r\n            class=\"nav-r-sel-item\"\r\n            @click.stop=\"onSelItem(list)\"\r\n            :class=\"{'border':index !== arr.length-1}\"\r\n            v-for=\"(list,index) in arr\"\r\n            :key=\"index\"\r\n          >{{list.Name}}</div>\r\n        </div>\r\n      </div>\r\n    </van-nav-bar>\r\n    <div class=\"company-content\">\r\n      <div class=\"company-title flex\">{{item.Name}}</div>\r\n      <div class=\"company-person\">\r\n        <div class=\"company-person-i\" v-for=\"(item,index) in pageDada\" :key=\"index\">\r\n          <div class=\"company-person-i-row flex\">\r\n            <div class=\"company-person-i-row-l flex\">\r\n              <div class=\"company-person-i-row-a\">\r\n                <img src=\"./user_assets/imgs/sg-name.png\">\r\n              </div>\r\n              {{item.cName}}\r\n            </div>\r\n            <div class=\"company-person-i-row-r flex\">\r\n              <div class=\"company-person-i-row-b\">\r\n                <img src=\"./user_assets/imgs/sg-duty.png\">\r\n              </div>\r\n              {{item.cRoleName}}\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"company-person-i-row flex\">\r\n            <div class=\"company-person-i-row-l flex\">\r\n              <div class=\"company-person-i-row-c\">\r\n                <img src=\"./user_assets/imgs/sg-phone.png\">\r\n              </div>\r\n              <a @click=\"callPhone(item.cPhone)\">{{item.cPhone}}</a>\r\n            </div>\r\n            <div class=\"company-person-i-row-r flex\">\r\n              <div class=\"company-person-i-row-d\">\r\n                <img src=\"./user_assets/imgs/sg-wechat.png\">\r\n              </div>\r\n              {{item.WeChatNo}}\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"company-person-i-row flex\">\r\n            <div class=\"company-person-i-row-l flex\">\r\n              <div class=\"company-person-i-row-c\">\r\n                <img src=\"./user_assets/imgs/sg-email.png\">\r\n              </div>\r\n              {{item.Email}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type='textecmascript-6'>\r\nimport {GetPositionConfig} from '@/api/api.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      isShow: false,\r\n      \r\n      \r\n      pageDada:[],//公司人员的集合\r\n      text:'',//跳转时候获取标题bar\r\n      item:{},//跳转时候获取改公司的集合信息\r\n      arr:[],//跳转时候获取这一类公司的数组\r\n\r\n    };\r\n  },\r\n  created(){\r\n    this.text=this.$route.query.text+'通讯录';\r\n    this.item=this.$route.query.item;\r\n    this.arr=this.$route.query.arr;\r\n    this.onSelItem(this.item)\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.back(-1);\r\n    },\r\n    onClickRight() {\r\n      this.isShow = !this.isShow;\r\n    },\r\n    //根据公司id查询公司人员信息\r\n    onSelItem(item) {\r\n      console.log(item);\r\n      this.item=item;\r\n      this.isShow = false;\r\n      // id=id==''?'0':id;//没有id的时候传0\r\n      var text=localStorage.getItem('projectid');\r\n\r\n      this.Request(GetPositionConfig({projectId:text,OrgId:item.ID})).then(res=>{\r\n        if(res.StatusCode=='200'){\r\n          // this.pageDada\r\n          console.log(res);\r\n          this.pageDada=[];\r\n          if( res.Message=='暂无数据'){\r\n            this.$dialog.alert({message:'该公司没有人员信息'});\r\n          }else{\r\n            for(var i=0;i<res.Detiel[0].DeptList.length;i++){\r\n              for(var x=0;x<res.Detiel[0].DeptList[i].UserRoleList.length;x++){\r\n                this.pageDada.push(res.Detiel[0].DeptList[i].UserRoleList[x])\r\n              }\r\n            }\r\n          }\r\n          \r\n        }else{\r\n          this.$dialog.alert({message:res.Message});\r\n        }\r\n      })\r\n    },\r\n    //拨打手机号码\r\n    callPhone(phone){\r\n      if(phone==''){\r\n        this.$dialog.alert({message:'拨打的手机号码为空'});\r\n        return false;\r\n      }\r\n      window.location.href = 'tel://'+phone\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang='stylus' scoped rel='stylesheet/stylus'>\r\n@import './user_assets/base.css';\r\n\r\n.container-addressList {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(246, 248, 250, 1);\r\n\r\n  .nav-r {\r\n    height: 1.18rem;\r\n    position: relative;\r\n\r\n    .nav-r-sel {\r\n      position: absolute;\r\n      width: 4.55rem;\r\n      top: 1.16rem;\r\n      right: 0px;\r\n      padding: 0 0.27rem;\r\n      background: rgba(34, 40, 50, 0.9);\r\n      border-radius: 0.11rem;\r\n      font-size: 30px;\r\n      font-family: SourceHanSansCN-Regular;\r\n      font-weight: 400;\r\n      color: rgba(255, 255, 255, 1);\r\n\r\n      .nav-r-sel-item {\r\n        text-align: left;\r\n        heihgt: 1.1rem;\r\n        line-height: 1.1rem;\r\n      }\r\n    }\r\n\r\n    .border {\r\n      border-bottom: 2px solid #8A8A8A;\r\n    }\r\n\r\n    img {\r\n      width: 0.54rem;\r\n      height: 0.46rem;\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  .company-title {\r\n    height: 1.18rem;\r\n    background-color: #fff;\r\n    padding-left: 0.32rem;\r\n    font-size: 34px;\r\n    font-family: SourceHanSansCN-Medium;\r\n    font-weight: 500;\r\n    color: rgba(51, 51, 51, 1);\r\n  }\r\n\r\n  .company-person-i {\r\n    margin: 0.27rem 0.32rem 0 0.32rem;\r\n    padding: 0.32rem 0.32rem 0 0.32rem;\r\n    background: rgba(255, 255, 255, 1);\r\n    box-shadow: 0px 1px 0.11rem 0px rgba(220, 226, 237, 1);\r\n    border-radius: 0.11rem;\r\n\r\n    .company-person-i-row {\r\n      padding-bottom: 0.32rem;\r\n    }\r\n\r\n    .company-person-i-row-a {\r\n      width: 0.85rem;\r\n\r\n      img {\r\n        width: 0.37rem;\r\n        height: 0.4rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .company-person-i-row-b {\r\n      width: 0.85rem;\r\n\r\n      img {\r\n        width: 0.35rem;\r\n        height: 0.32rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .company-person-i-row-c {\r\n      width: 0.85rem;\r\n\r\n      img {\r\n        width: 0.4rem;\r\n        height: 0.4rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .company-person-i-row-d {\r\n      width: 0.85rem;\r\n\r\n      img {\r\n        width: 0.4rem;\r\n        height: 0.32rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .company-person-i-row-e {\r\n      width: 0.85rem;\r\n\r\n      img {\r\n        width: 0.35rem;\r\n        height: 0.27rem;\r\n        display: block;\r\n      }\r\n    }\r\n\r\n    .company-person-i-row-l, .company-person-i-row-r {\r\n      flex: 1;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}