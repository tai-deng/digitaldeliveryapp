{"remainingRequest":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Public\\软件\\app\\src\\components\\index\\riskDetails\\riskDetails.vue?vue&type=style&index=2&lang=css&","dependencies":[{"path":"C:\\Users\\Public\\软件\\app\\src\\components\\index\\riskDetails\\riskDetails.vue","mtime":1557998374249},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\css-loader\\index.js","mtime":1552270042900},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1552270044128},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\postcss-loader\\src\\index.js","mtime":1552270043529},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1552270042041},{"path":"C:\\Users\\Public\\软件\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1552270044128}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* 顶部表头 */\r\n/* .container-risk_details .van-nav-bar .van-nav-bar__title {\r\n  font-size: 36px;\r\n} */\r\n",{"version":3,"sources":["riskDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuqBA;AACA;AACA;AACA","file":"riskDetails.vue","sourceRoot":"src/components/index/riskDetails","sourcesContent":["<!--  -->\r\n<template>\r\n  <div class=\"container-risk_details\">\r\n    <!-- 头部 -->\r\n    <van-nav-bar title=\"风险管理详情\" @click-left=\"goBack\" fixed :border=\"false\" :z-index=\"100\" class=\"my-nav-bar\">\r\n      <span class=\"el-icon-arrow-left fontsize\" slot=\"left\"></span>\r\n    </van-nav-bar>\r\n    <!-- 待接收 -->\r\n    <div class=\"wrapper\">\r\n      <div class=\"details_box\">\r\n        <div class=\"details\">\r\n          <span>\r\n            主题：\r\n            <span>{{theme}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            问题类型：\r\n            <span>{{problemType}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            楼栋：\r\n            <span>{{building}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            楼层：\r\n            <span>{{floor}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            发起人：\r\n            <span>{{initiator}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            发起时间：\r\n            <span>{{initiateTime}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"describe\">\r\n          <span>\r\n            描述：\r\n            <span class=\"describe_content\">{{problem}}</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"picture\">\r\n        <p class=\"photo\">照片</p>\r\n        <div class=\"photo_img\">\r\n          <img class=\"photoImg\" v-for=\"(item, index) in photoList\" :key=\"index\" :src=\"item\" alt>\r\n        </div>\r\n      </div>\r\n      <div class=\"details_box\">\r\n        <div class=\"details\">\r\n          <span>\r\n            接收人：\r\n            <span v-for=\"(item, index) in receiverList\" :key=\"index\" style=\"margin-right:20px;\">{{item.cName}}</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details details_border\">\r\n          <span>\r\n            整改截止时间：\r\n            <span>{{eeadLine}}</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div v-if=\"currentPersonState === 3\">\r\n        <div class=\"information\">认证信息</div>\r\n        <!-- <div class=\"completion_time\" @click=\"is_show_picker\">\r\n          完成时间：\r\n          <input type=\"text\" placeholder=\"请选择完成时间\" :value=\"valueTime\">\r\n          <span class=\"el-icon-arrow-right\"></span>\r\n        </div> -->\r\n        <van-field\r\n            placeholder=\"请选择认证时间\"\r\n            label=\"认证时间：\"\r\n            right-icon=\"calender-o\"\r\n            readonly\r\n            v-model=\"authTime\"\r\n            label-width=\"80\"\r\n            class=\"my-field\"\r\n            @click=\"showAouthTimePopup\"\r\n          />\r\n        <div class=\"picture upload\">\r\n          <p class=\"photo\">上传照片</p>\r\n          <div class=\"photo_img\">\r\n            <!-- <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt> -->\r\n            <van-uploader :before-read=\"beforeRead\" :after-read=\"afterRead\" accept=\"image/*\" :max-size=\"8388608\" @oversize=\"oversize\" class=\"photo-uploader\">\r\n              <van-icon name=\"photograph\" />\r\n            </van-uploader>\r\n            <!-- <div class=\"Img\">\r\n              <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n              <van-icon name=\"clear\" />\r\n            </div>\r\n            <div class=\"img\">\r\n              <img class=\"upload_photos\" src=\"../../../assets/imgs/upload_photos.png\" alt=\"\">\r\n            </div> -->\r\n            <span class=\"uploader-txt\">最多上传3张</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"currentPersonState === 4\">\r\n        <div class=\"information\">认证信息</div>\r\n        <div class=\"completion_time\">\r\n          认证时间：<span>{{authTime}}</span>\r\n        </div>\r\n        <div class=\"picture upload\">\r\n          <p class=\"photo\">认证照片</p>\r\n          <div class=\"photo_img\">\r\n            <div class=\"Img\">\r\n              <img class=\"photoImg\" v-for=\"(item, index) in authPhotoList\" :key=\"index\" :src=\"item\" alt>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"confirm\" v-if=\"isShow && isMe && currentPersonState == 0\">\r\n        <van-button type=\"danger\" block class=\"my-button rejection\" @click=\"onSubmit(2)\" :loading=\"rejectionLoading\">拒收</van-button>\r\n        <van-button type=\"info\" block class=\"my-button receive\" @click=\"onSubmit(3)\" :loading=\"receiveLoading\">接收</van-button>\r\n      </div>\r\n      <div class=\"confirm\" v-if=\"isShow && isMe && currentPersonState == 3\">\r\n        <van-button type=\"info\" block class=\"my-button authentication\" @click=\"onSubmit(4)\" :loading=\"authLoading\">认证</van-button>\r\n      </div>\r\n    </div>\r\n    <!-- 整改中 -->\r\n    <div class=\"wrapper\" v-if=\"active == 0\" style=\"display:none\">\r\n      <div class=\"details_box\">\r\n        <div class=\"details\">\r\n          <span>\r\n            主题:\r\n            <span>A1栋地下室未清底</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            问题类型:\r\n            <span>基础施工</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            发起人:\r\n            <span>李三思</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            发起时间:\r\n            <span>2018.01.01</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"describe\">\r\n          <span>\r\n            描述:\r\n            <span class=\"describe_content\">a1栋地下室存在较大砂砾，基坑底部不平整。</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"picture\">\r\n        <p class=\"photo\">照片</p>\r\n        <div class=\"photo_img\">\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n        </div>\r\n      </div>\r\n      <div class=\"details_box\">\r\n        <div class=\"details\">\r\n          <span>\r\n            接收人:\r\n            <span>李三思 ; 王思思 ;</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details details_border\">\r\n          <span>\r\n            整改截止时间:\r\n            <span>2018.01.01</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"information\">完成信息</div>\r\n      <div class=\"completion_time\" @click=\"is_show_picker\">\r\n        完成时间 :\r\n        <input type=\"text\" placeholder=\"请选择完成时间\" :value=\"valueTime\">\r\n        <span class=\"el-icon-arrow-right\"></span>\r\n      </div>\r\n      <div class=\"picture upload\">\r\n        <p class=\"photo\">上传照片</p>\r\n        <div class=\"photo_img\">\r\n          <!-- <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt> -->\r\n          <div class=\"Img\">\r\n            <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n            <van-icon name=\"clear\" />\r\n          </div>\r\n          <div class=\"img\">\r\n            <img class=\"upload_photos\" src=\"../../../assets/imgs/upload_photos.png\" alt=\"\">\r\n          </div>\r\n          <span>最多上传3张</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"confirm completion\" @click=\"complete\">确认完成</div>\r\n    </div>\r\n    <!-- 已整改 -->\r\n    <div class=\"wrapper\" v-if=\"active == 2\" style=\"display:none\">\r\n      <div class=\"details_box\">\r\n        <div class=\"details\">\r\n          <span>\r\n            主题:\r\n            <span>A1栋地下室未清底</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            问题类型:\r\n            <span>基础施工</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            发起人:\r\n            <span>李三思</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details\">\r\n          <span>\r\n            发起时间:\r\n            <span>2018.01.01</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"describe\">\r\n          <span>\r\n            描述:\r\n            <span class=\"describe_content\">a1栋地下室存在较大砂砾，基坑底部不平整。</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"picture\">\r\n        <p class=\"photo\">照片</p>\r\n        <div class=\"photo_img\">\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n          <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n        </div>\r\n      </div>\r\n      <div class=\"details_box\">\r\n        <div class=\"details\">\r\n          <span>\r\n            接收人:\r\n            <span>李三思 ; 王思思 ;</span>\r\n          </span>\r\n        </div>\r\n        <div class=\"details details_border\">\r\n          <span>\r\n            整改截止时间:\r\n            <span>2018.01.01</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"information\">完成信息</div>\r\n      <div class=\"completion_time\">\r\n        完成时间 : <span>2018.01.01</span>\r\n      </div>\r\n      <div class=\"picture upload\">\r\n        <p class=\"photo\">上传照片</p>\r\n        <div class=\"photo_img\">\r\n          <div class=\"Img\">\r\n            <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n            <van-icon name=\"clear\" />\r\n          </div>\r\n          <div class=\"Img\">\r\n            <img class=\"photoImg\" src=\"../../../assets/imgs/storied_building.png\" alt>\r\n            <van-icon name=\"clear\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-actionsheet v-model=\"show_picker\">\r\n      <van-datetime-picker\r\n        v-model=\"currentDate\"\r\n        type=\"date\"\r\n        :min-date=\"minDate\"\r\n        @cancel=\"onCancel\"\r\n        @confirm=\"onConfirm\"\r\n      />\r\n    </van-actionsheet>\r\n    <van-popup v-model=\"popupShow\" position=\"bottom\">\r\n      <van-datetime-picker\r\n        type=\"date\"\r\n        :min-date=\"minDate\"\r\n        @confirm=\"onConfirm\"\r\n        @cancel=\"onCancel\"\r\n        class=\"my-picker\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script type='textecmascript-6'>\r\nimport { GetRiskInfoByID, DoRiskWork, UploadImages } from \"@/api/api.js\";\r\n// import { dotoRiskWork } from \"./util/util.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      popupShow: false,  //弹出层是否显示\r\n      receiverID: \"\",  //接收人ID\r\n      isShow: true,  //按钮是否显示\r\n      isMe: false,  //当前登陆用户是否在接收人名单中\r\n      // resultState: \"\",  //接口返回结果\r\n      state: \"\", //状态\r\n      currentPersonState: \"\",  //当前人的状态\r\n      theme: \"\",  //主题\r\n      receiverList: \"\",  //接收人\r\n      problem: \"\",  //问题描述\r\n      initiateTime: \"\",  //发起时间\r\n      initiator: \"\",  //发起人\r\n      problemType: \"\",  //问题类型\r\n      photoList: [],  //现场照片\r\n      eeadLine: \"\",  //整改截止时间\r\n      listViewpoints: [],  //视点\r\n      building: \"\",  //楼栋\r\n      floor: \"\",  //楼层\r\n      authTime: \"\",  //认证时间\r\n      authPhotoList: [],  //认证照片\r\n      authLoading: false,  //认证按钮加载状态\r\n      receiveLoading: false,  //接收按钮加载状态\r\n      rejectionLoading: false,  //拒收按钮加载状态\r\n\r\n      show: false, //默认隐藏\r\n      show_picker: false, //选择时间默认隐藏\r\n      currentDate: new Date(), //当前时间\r\n      minDate: new Date(), //最小选择时间\r\n      valueTime: '',//选择的时间\r\n      active: 100000000,//tab默认位置\r\n      text: [],//接受人数组\r\n      valueReceiver: '',//接收人字符串\r\n    };\r\n  },\r\n  created() {\r\n    this.active = this.$route.query.active\r\n    this.riskid = this.$route.query.riskID;  //风险问题ID\r\n    this.state = this.$route.query.state;  //风险问题状态\r\n    if(this.riskid == \"\"){\r\n      this.$router.push({\r\n        path: \"Risk\"\r\n      });\r\n    }\r\n    this.getBuildingData();\r\n  },\r\n  methods: {\r\n    /**\r\n     * @name 根据风险问题ID获取详情信息（含照片）\r\n     * @param {integer} riskID 风险问题ID\r\n     */\r\n    getBuildingData(){\r\n      this.load(); //调用加载中蒙层\r\n      this.Request(\r\n        GetRiskInfoByID({riskID: this.riskid}),\r\n      ).then(data => {\r\n        if (data.StatusCode === 200) {\r\n          // console.log(\"风险问题详情\",data)\r\n          this.isMe = false;\r\n          data.Detiel[0].ReceiverList.forEach((element, index) => {\r\n            if (localStorage.getItem(\"userId\") == element.UserID) {\r\n              this.isMe = true;\r\n              this.currentPersonState = element.Status\r\n              this.receiverID = element.ID\r\n            }\r\n          })\r\n          this.theme = data.Detiel[0].Risk.Subject;\r\n          this.problem = data.Detiel[0].Risk.Problem;\r\n          this.initiateTime = require('moment')(data.Detiel[0].Risk.InitiateTime).format('YYYY-MM-DD');\r\n          this.initiator = data.Detiel[0].Risk.InitiatorName;\r\n          this.problemType = data.Detiel[0].Risk.ProblemType;\r\n          this.photoList = data.Detiel[0].PhotoList;\r\n          this.listViewpoints = data.Detiel[0].listViewpoints;\r\n          this.receiverList = data.Detiel[0].ReceiverList;\r\n          this.eeadLine = data.Detiel[0].Risk.DeadLine.substring(0, data.Detiel[0].Risk.DeadLine.indexOf(\"T\"));\r\n          this.building = data.Detiel[0].Risk.Building;\r\n          this.floor = data.Detiel[0].Risk.Floor;\r\n          if(this.currentPersonState == 4){\r\n            this.authPhotoList = data.Detiel[0].AuthPhotoList\r\n            this.authTime = data.Detiel[0].ReceiverList[0].AuthTime.substring(0, data.Detiel[0].ReceiverList[0].AuthTime.indexOf(\"T\"));\r\n          }\r\n        } else {\r\n          this.$toast({\r\n            type: \"fail\",\r\n            className: \"my-toast\",\r\n            message: data.Message\r\n          });\r\n        }\r\n      });\r\n      this.$toast.clear(); //关闭加载中蒙层\r\n    },\r\n    /**\r\n     * @name 操作（接收、拒收、认证）\r\n     */\r\n    onSubmit(param){\r\n      switch (param) {\r\n        case 2:\r\n          {\r\n            this.rejectionLoading = true;\r\n            dotoRiskWork(this, DoRiskWork, param);\r\n            this.rejectionLoading = false;\r\n          }\r\n          break;\r\n        case 3:\r\n          {\r\n            this.receiveLoading = true;\r\n            dotoRiskWork(this, DoRiskWork, param);\r\n            this.receiveLoading = false;\r\n          }\r\n          break;\r\n        case 4:\r\n          {\r\n            // this.$refs['riskForm'].validate(valid => {\r\n            //   if (valid) {\r\n            //     dotoRiskWork(this, DoRiskWork, param)\r\n            //   }\r\n            // })\r\n            this.authLoading = true;\r\n            dotoRiskWork(this, DoRiskWork, param);\r\n            this.authLoading = false;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    showAouthTimePopup(){\r\n      this.popupShow = true;\r\n    },\r\n    /**\r\n     * @name 读取前的回调函数，返回false可终止文件读取\r\n     * @param {Object} file 文件解析后的 file 对象\r\n     * @param {Object} detail 额外信息，包含 name 字段\r\n     */\r\n    beforeRead(file, detail){\r\n      let params = [\r\n        {\r\n          key: \"files\",\r\n          value: file\r\n        }\r\n      ];\r\n      this.Request(UploadImages(params)).then(res => {\r\n        if(res.StatusCode === 200){\r\n          if(res.Detiel.length > 0){\r\n            this.authPhotoList.push({\r\n              Id: res.Detiel[0].Id, //上传后的文件名\r\n              URL: res.Detiel[0].URL, //文件地址\r\n              smallPhotoURL: res.Detiel[0].smallPhotoURL, //如果存在小图则返回小图地址\r\n              Type: res.Detiel[0].Type, //文件类型\r\n              TokenUrL: res.Detiel[0].TokenUrL //域名地址\r\n            });\r\n          }else{\r\n            this.$toast({\r\n              type: \"fail\",\r\n              message: res.message ? res.message : \"图片上传失败\",\r\n              className: \"my-toast\"\r\n            });\r\n          }\r\n        }else{\r\n          this.$toast({type: 'fail', message: res.Message, className: \"my-toast\"});\r\n        }\r\n      })\r\n      // let data = await this.Request(UploadImages(params));\r\n      // if (data.StatusCode === 200) {\r\n      //   if(data.Detiel.length > 0){\r\n      //     this.authPhotoList.push({\r\n      //       Id: data.Detiel[0].Id, //上传后的文件名\r\n      //       URL: data.Detiel[0].URL, //文件地址\r\n      //       smallPhotoURL: data.Detiel[0].smallPhotoURL, //如果存在小图则返回小图地址\r\n      //       Type: data.Detiel[0].Type, //文件类型\r\n      //       TokenUrL: data.Detiel[0].TokenUrL //域名地址\r\n      //     });\r\n      //   }else{\r\n      //     this.$toast({\r\n      //       type: \"fail\",\r\n      //       message: data.message ? data.message : \"图片上传失败\",\r\n      //       className: \"my-toast\"\r\n      //     });\r\n      //   }\r\n      // } else {\r\n      //   this.$toast({\r\n      //     type: \"fail\",\r\n      //     message: data.message ? data.message : \"后台异常\",\r\n      //     className: \"my-toast\"\r\n      //   });\r\n      // }\r\n    },\r\n    /**\r\n     * @name 读取完成后的回调函数\r\n     * @param {Object} file 文件解析后的 file 对象\r\n     * @param {Object} detail 额外信息，包含 name 字段\r\n     */\r\n    afterRead(file, detail) {\r\n      console.log(\"==afterRead==\", file, detail)\r\n    },\r\n    /**\r\n     * @name 文件大小超过限制时触发\r\n     * @param {Object} file 文件解析后的 file 对象\r\n     */\r\n    oversize(file){\r\n      this.$toast({\r\n        message: \"文件大小不要超过1M\",\r\n        className: \"my-toast\"\r\n      });\r\n    },\r\n    //返回\r\n    goBack() {\r\n      this.$router.push({ path: \"/Risk\", query: {active: this.active} });\r\n    },\r\n    //跳转接收人\r\n    // goReceiver() {\r\n    //   this.$router.push({ path: \"/Receiver\", query: {active: this.active} });\r\n    // },\r\n    //选择时间\r\n    is_show_picker() {\r\n      this.show_picker = true;\r\n    },\r\n    //时间选择确定取消\r\n    onConfirm(value) {\r\n      // console.log(`当前值：${value}`);\r\n      this.authTime = require('moment')(value).format('YYYY-MM-DD')\r\n      this.popupShow = false;\r\n    },\r\n    onCancel() {\r\n      this.popupShow = false;\r\n    },\r\n    //点击确认接收\r\n    receive() {\r\n      this.active = 0\r\n    },\r\n    //点击确认完成\r\n    complete() {\r\n      this.active = 2\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"~@/assets/css/resetVant.css\";\r\n</style>\r\n<style lang='stylus' scoped rel='stylesheet/stylus'>\r\n.container-risk_details\r\n  width 100%\r\n  height 100%\r\n  .van-nav-bar\r\n    // height 88px\r\n    // line-height 88px\r\n    // border-bottom 1px solid #E5E5E5\r\n    .fontsize\r\n      // font-size 42px\r\n      // color #333\r\n      // display inline-block\r\n      // vertical-align middle\r\n    .speed_of_progress\r\n      // width 36px\r\n      // height 36px\r\n  .wrapper\r\n    margin-top 88px\r\n    .details_box\r\n      box-sizing border-box\r\n      padding 0 22px\r\n      background-color #fff\r\n      font-size 30px\r\n      color #333\r\n      .details\r\n        height 88px\r\n        line-height 88px\r\n        border-bottom 2px solid #E5E5E5\r\n      .details_border\r\n        border 0\r\n      .describe\r\n        padding 25px 0 20px\r\n        .describe_content\r\n          display inline-block\r\n          width 100%\r\n          line-height 50px\r\n    .picture\r\n      box-sizing border-box\r\n      padding 0 22px 25px\r\n      font-size 30px\r\n      font-weight 500\r\n      color #333\r\n      .photo\r\n        line-height 90px\r\n        font-weight bold\r\n      .photo_img\r\n        display flex\r\n        flex-direction row\r\n        align-items flex-end\r\n        .uploader-txt\r\n          margin-left 20px\r\n        .photoImg\r\n          margin-right 45px\r\n          width 200px\r\n          height 200px\r\n        .photoImg:nth-child(3n)\r\n          margin 0\r\n        .Img\r\n          display inline-block\r\n          border-radius 8px\r\n          margin-right 45px\r\n          width 200px\r\n          height 200px\r\n          text-align center\r\n          line-height 200px\r\n          vertical-align bottom\r\n          position relative\r\n          .van-icon\r\n            position absolute\r\n            width 20px\r\n            height 20px\r\n            top -10px\r\n            right 0\r\n            color #FF3366\r\n        .img\r\n          display inline-block\r\n          border 2px solid #BDC1C6\r\n          border-radius 8px\r\n          margin-right 8px\r\n          width 200px\r\n          height 200px\r\n          text-align center\r\n          line-height 200px\r\n          vertical-align bottom\r\n          .upload_photos\r\n            width 36px\r\n            height 36px\r\n        span\r\n          vertical-align bottom\r\n          color #999\r\n        .img:nth-child(3n)\r\n          margin 0\r\n    .confirm\r\n      display flex\r\n      justify-content space-around\r\n      margin-top 40px\r\n      // width 702px\r\n      // height 88px\r\n      // line-height 88px\r\n      // font-size 30px\r\n      // margin 60px auto 40px\r\n      // text-align center\r\n      // background-color #5A93FF\r\n      // border-radius 8px\r\n      // color #fff\r\n      .rejection\r\n        width 330px\r\n      .receive\r\n        width 330px\r\n      .authentication\r\n        width 702px\r\n    .information\r\n      padding 30px 24px\r\n      font-size 30px\r\n      font-weight bold\r\n      background-color #F6F8FA\r\n    .completion_time\r\n      padding 30px 24px\r\n      font-size 30px\r\n      background-color #fff\r\n      .el-icon-arrow-right\r\n        float right\r\n    .upload\r\n      background-color #F6F8FA\r\n</style>\r\n<style>\r\n/* 顶部表头 */\r\n/* .container-risk_details .van-nav-bar .van-nav-bar__title {\r\n  font-size: 36px;\r\n} */\r\n</style>\r\n"]}]}